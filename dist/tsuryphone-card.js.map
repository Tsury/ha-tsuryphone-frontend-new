{"version":3,"file":"tsuryphone-card.js","sources":["../node_modules/tslib/tslib.es6.js","../node_modules/@lit/reactive-element/css-tag.js","../node_modules/@lit/reactive-element/reactive-element.js","../node_modules/lit-html/lit-html.js","../node_modules/lit-element/lit-element.js","../node_modules/@lit/reactive-element/decorators/custom-element.js","../node_modules/@lit/reactive-element/decorators/property.js","../node_modules/@lit/reactive-element/decorators/state.js","../src/styles/theme.ts","../src/styles/common.ts","../src/components/navigation/tsuryphone-navigation.ts","../src/utils/date-formatter.ts","../src/utils/call-history-grouping.ts","../src/components/home/call-log-filters.ts","../src/utils/avatar-color.ts","../src/components/home/frequent-contacts.ts","../src/components/home/call-log-item.ts","../src/components/home/call-log-list.ts","../src/components/home/home-view.ts","../src/utils/entity-discovery.ts","../src/components/keypad/dialed-number-display.ts","../src/components/keypad/keypad-grid.ts","../src/components/keypad/keypad-view.ts","../src/styles/shared-styles.ts","../src/components/shared/empty-state.ts","../src/utils/formatters.ts","../src/utils/haptics.ts","../src/components/shared/avatar.ts","../src/components/contacts/contact-item.ts","../src/components/contacts/contacts-view.ts","../src/components/modals/contact-modal.ts","../src/tsuryphone-card.ts"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\r\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nvar ownKeys = function(o) {\r\n    ownKeys = Object.getOwnPropertyNames || function (o) {\r\n        var ar = [];\r\n        for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\r\n        return ar;\r\n    };\r\n    return ownKeys(o);\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose, inner;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n            if (async) inner = dispose;\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    var r, s = 0;\r\n    function next() {\r\n        while (r = env.stack.pop()) {\r\n            try {\r\n                if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\r\n                if (r.dispose) {\r\n                    var result = r.dispose.call(r.value);\r\n                    if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n                }\r\n                else s |= 1;\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\r\n    if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\r\n        return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\r\n            return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\r\n        });\r\n    }\r\n    return path;\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __esDecorate: __esDecorate,\r\n    __runInitializers: __runInitializers,\r\n    __propKey: __propKey,\r\n    __setFunctionName: __setFunctionName,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n    __rewriteRelativeImportExtension: __rewriteRelativeImportExtension,\r\n};\r\n","/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,e=t.ShadowRoot&&(void 0===t.ShadyCSS||t.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,s=Symbol(),o=new WeakMap;class n{constructor(t,e,o){if(this._$cssResult$=!0,o!==s)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const s=this.t;if(e&&void 0===t){const e=void 0!==s&&1===s.length;e&&(t=o.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&o.set(s,t))}return t}toString(){return this.cssText}}const r=t=>new n(\"string\"==typeof t?t:t+\"\",void 0,s),i=(t,...e)=>{const o=1===t.length?t[0]:e.reduce(((e,s,o)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(s)+t[o+1]),t[0]);return new n(o,t,s)},S=(s,o)=>{if(e)s.adoptedStyleSheets=o.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const e of o){const o=document.createElement(\"style\"),n=t.litNonce;void 0!==n&&o.setAttribute(\"nonce\",n),o.textContent=e.cssText,s.appendChild(o)}},c=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const s of t.cssRules)e+=s.cssText;return r(e)})(t):t;export{n as CSSResult,S as adoptStyles,i as css,c as getCompatibleStyle,e as supportsAdoptingStyleSheets,r as unsafeCSS};\n//# sourceMappingURL=css-tag.js.map\n","import{getCompatibleStyle as t,adoptStyles as s}from\"./css-tag.js\";export{CSSResult,css,supportsAdoptingStyleSheets,unsafeCSS}from\"./css-tag.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{is:i,defineProperty:e,getOwnPropertyDescriptor:h,getOwnPropertyNames:r,getOwnPropertySymbols:o,getPrototypeOf:n}=Object,a=globalThis,c=a.trustedTypes,l=c?c.emptyScript:\"\",p=a.reactiveElementPolyfillSupport,d=(t,s)=>t,u={toAttribute(t,s){switch(s){case Boolean:t=t?l:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,s){let i=t;switch(s){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},f=(t,s)=>!i(t,s),b={attribute:!0,type:String,converter:u,reflect:!1,useDefault:!1,hasChanged:f};Symbol.metadata??=Symbol(\"metadata\"),a.litPropertyMetadata??=new WeakMap;class y extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,s=b){if(s.state&&(s.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((s=Object.create(s)).wrapped=!0),this.elementProperties.set(t,s),!s.noAccessor){const i=Symbol(),h=this.getPropertyDescriptor(t,i,s);void 0!==h&&e(this.prototype,t,h)}}static getPropertyDescriptor(t,s,i){const{get:e,set:r}=h(this.prototype,t)??{get(){return this[s]},set(t){this[s]=t}};return{get:e,set(s){const h=e?.call(this);r?.call(this,s),this.requestUpdate(t,h,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??b}static _$Ei(){if(this.hasOwnProperty(d(\"elementProperties\")))return;const t=n(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(d(\"finalized\")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d(\"properties\"))){const t=this.properties,s=[...r(t),...o(t)];for(const i of s)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const s=litPropertyMetadata.get(t);if(void 0!==s)for(const[t,i]of s)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,s]of this.elementProperties){const i=this._$Eu(t,s);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(s){const i=[];if(Array.isArray(s)){const e=new Set(s.flat(1/0).reverse());for(const s of e)i.unshift(t(s))}else void 0!==s&&i.push(t(s));return i}static _$Eu(t,s){const i=s.attribute;return!1===i?void 0:\"string\"==typeof i?i:\"string\"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,s=this.constructor.elementProperties;for(const i of s.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return s(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,s,i){this._$AK(t,i)}_$ET(t,s){const i=this.constructor.elementProperties.get(t),e=this.constructor._$Eu(t,i);if(void 0!==e&&!0===i.reflect){const h=(void 0!==i.converter?.toAttribute?i.converter:u).toAttribute(s,i.type);this._$Em=t,null==h?this.removeAttribute(e):this.setAttribute(e,h),this._$Em=null}}_$AK(t,s){const i=this.constructor,e=i._$Eh.get(t);if(void 0!==e&&this._$Em!==e){const t=i.getPropertyOptions(e),h=\"function\"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:u;this._$Em=e;const r=h.fromAttribute(s,t.type);this[e]=r??this._$Ej?.get(e)??r,this._$Em=null}}requestUpdate(t,s,i){if(void 0!==t){const e=this.constructor,h=this[t];if(i??=e.getPropertyOptions(t),!((i.hasChanged??f)(h,s)||i.useDefault&&i.reflect&&h===this._$Ej?.get(t)&&!this.hasAttribute(e._$Eu(t,i))))return;this.C(t,s,i)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(t,s,{useDefault:i,reflect:e,wrapped:h},r){i&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,r??s??this[t]),!0!==h||void 0!==r)||(this._$AL.has(t)||(this.hasUpdated||i||(s=void 0),this._$AL.set(t,s)),!0===e&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,s]of this._$Ep)this[t]=s;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[s,i]of t){const{wrapped:t}=i,e=this[s];!0!==t||this._$AL.has(s)||void 0===e||this.C(s,void 0,i,e)}}let t=!1;const s=this._$AL;try{t=this.shouldUpdate(s),t?(this.willUpdate(s),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(s)):this._$EM()}catch(s){throw t=!1,this._$EM(),s}t&&this._$AE(s)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach((t=>this._$ET(t,this[t]))),this._$EM()}updated(t){}firstUpdated(t){}}y.elementStyles=[],y.shadowRootOptions={mode:\"open\"},y[d(\"elementProperties\")]=new Map,y[d(\"finalized\")]=new Map,p?.({ReactiveElement:y}),(a.reactiveElementVersions??=[]).push(\"2.1.1\");export{y as ReactiveElement,s as adoptStyles,u as defaultConverter,t as getCompatibleStyle,f as notEqual};\n//# sourceMappingURL=reactive-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,i=t.trustedTypes,s=i?i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,e=\"$lit$\",h=`lit$${Math.random().toFixed(9).slice(2)}$`,o=\"?\"+h,n=`<${o}>`,r=document,l=()=>r.createComment(\"\"),c=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,a=Array.isArray,u=t=>a(t)||\"function\"==typeof t?.[Symbol.iterator],d=\"[ \\t\\n\\f\\r]\",f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,_=/>/g,m=RegExp(`>|${d}(?:([^\\\\s\"'>=/]+)(${d}*=${d}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),p=/'/g,g=/\"/g,$=/^(?:script|style|textarea|title)$/i,y=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=y(1),b=y(2),w=y(3),T=Symbol.for(\"lit-noChange\"),E=Symbol.for(\"lit-nothing\"),A=new WeakMap,C=r.createTreeWalker(r,129);function P(t,i){if(!a(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==s?s.createHTML(i):i}const V=(t,i)=>{const s=t.length-1,o=[];let r,l=2===i?\"<svg>\":3===i?\"<math>\":\"\",c=f;for(let i=0;i<s;i++){const s=t[i];let a,u,d=-1,y=0;for(;y<s.length&&(c.lastIndex=y,u=c.exec(s),null!==u);)y=c.lastIndex,c===f?\"!--\"===u[1]?c=v:void 0!==u[1]?c=_:void 0!==u[2]?($.test(u[2])&&(r=RegExp(\"</\"+u[2],\"g\")),c=m):void 0!==u[3]&&(c=m):c===m?\">\"===u[0]?(c=r??f,d=-1):void 0===u[1]?d=-2:(d=c.lastIndex-u[2].length,a=u[1],c=void 0===u[3]?m:'\"'===u[3]?g:p):c===g||c===p?c=m:c===v||c===_?c=f:(c=m,r=void 0);const x=c===m&&t[i+1].startsWith(\"/>\")?\" \":\"\";l+=c===f?s+n:d>=0?(o.push(a),s.slice(0,d)+e+s.slice(d)+h+x):s+h+(-2===d?i:x)}return[P(t,l+(t[s]||\"<?>\")+(2===i?\"</svg>\":3===i?\"</math>\":\"\")),o]};class N{constructor({strings:t,_$litType$:s},n){let r;this.parts=[];let c=0,a=0;const u=t.length-1,d=this.parts,[f,v]=V(t,s);if(this.el=N.createElement(f,n),C.currentNode=this.el.content,2===s||3===s){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=C.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(e)){const i=v[a++],s=r.getAttribute(t).split(h),e=/([.?@])?(.*)/.exec(i);d.push({type:1,index:c,name:e[2],strings:s,ctor:\".\"===e[1]?H:\"?\"===e[1]?I:\"@\"===e[1]?L:k}),r.removeAttribute(t)}else t.startsWith(h)&&(d.push({type:6,index:c}),r.removeAttribute(t));if($.test(r.tagName)){const t=r.textContent.split(h),s=t.length-1;if(s>0){r.textContent=i?i.emptyScript:\"\";for(let i=0;i<s;i++)r.append(t[i],l()),C.nextNode(),d.push({type:2,index:++c});r.append(t[s],l())}}}else if(8===r.nodeType)if(r.data===o)d.push({type:2,index:c});else{let t=-1;for(;-1!==(t=r.data.indexOf(h,t+1));)d.push({type:7,index:c}),t+=h.length-1}c++}}static createElement(t,i){const s=r.createElement(\"template\");return s.innerHTML=t,s}}function S(t,i,s=t,e){if(i===T)return i;let h=void 0!==e?s._$Co?.[e]:s._$Cl;const o=c(i)?void 0:i._$litDirective$;return h?.constructor!==o&&(h?._$AO?.(!1),void 0===o?h=void 0:(h=new o(t),h._$AT(t,s,e)),void 0!==e?(s._$Co??=[])[e]=h:s._$Cl=h),void 0!==h&&(i=S(t,h._$AS(t,i.values),h,e)),i}class M{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:s}=this._$AD,e=(t?.creationScope??r).importNode(i,!0);C.currentNode=e;let h=C.nextNode(),o=0,n=0,l=s[0];for(;void 0!==l;){if(o===l.index){let i;2===l.type?i=new R(h,h.nextSibling,this,t):1===l.type?i=new l.ctor(h,l.name,l.strings,this,t):6===l.type&&(i=new z(h,this,t)),this._$AV.push(i),l=s[++n]}o!==l?.index&&(h=C.nextNode(),o++)}return C.currentNode=r,e}p(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class R{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,s,e){this.type=2,this._$AH=E,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cv=e?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t?.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=S(this,t,i),c(t)?t===E||null==t||\"\"===t?(this._$AH!==E&&this._$AR(),this._$AH=E):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==E&&c(this._$AH)?this._$AA.nextSibling.data=t:this.T(r.createTextNode(t)),this._$AH=t}$(t){const{values:i,_$litType$:s}=t,e=\"number\"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=N.createElement(P(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===e)this._$AH.p(i);else{const t=new M(e,this),s=t.u(this.options);t.p(i),this.T(s),this._$AH=t}}_$AC(t){let i=A.get(t.strings);return void 0===i&&A.set(t.strings,i=new N(t)),i}k(t){a(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const h of t)e===i.length?i.push(s=new R(this.O(l()),this.O(l()),this,this.options)):s=i[e],s._$AI(h),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class k{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,s,e,h){this.type=1,this._$AH=E,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=h,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=E}_$AI(t,i=this,s,e){const h=this.strings;let o=!1;if(void 0===h)t=S(this,t,i,0),o=!c(t)||t!==this._$AH&&t!==T,o&&(this._$AH=t);else{const e=t;let n,r;for(t=h[0],n=0;n<h.length-1;n++)r=S(this,e[s+n],i,n),r===T&&(r=this._$AH[n]),o||=!c(r)||r!==this._$AH[n],r===E?t=E:t!==E&&(t+=(r??\"\")+h[n+1]),this._$AH[n]=r}o&&!e&&this.j(t)}j(t){t===E?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??\"\")}}class H extends k{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===E?void 0:t}}class I extends k{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==E)}}class L extends k{constructor(t,i,s,e,h){super(t,i,s,e,h),this.type=5}_$AI(t,i=this){if((t=S(this,t,i,0)??E)===T)return;const s=this._$AH,e=t===E&&s!==E||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==E&&(s===E||e);e&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){\"function\"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class z{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){S(this,t)}}const Z={M:e,P:h,A:o,C:1,L:V,R:M,D:u,V:S,I:R,H:k,N:I,U:L,B:H,F:z},j=t.litHtmlPolyfillSupport;j?.(N,R),(t.litHtmlVersions??=[]).push(\"3.3.1\");const B=(t,i,s)=>{const e=s?.renderBefore??i;let h=e._$litPart$;if(void 0===h){const t=s?.renderBefore??null;e._$litPart$=h=new R(i.insertBefore(l(),t),t,void 0,s??{})}return h._$AI(t),h};export{Z as _$LH,x as html,w as mathml,T as noChange,E as nothing,B as render,b as svg};\n//# sourceMappingURL=lit-html.js.map\n","import{ReactiveElement as t}from\"@lit/reactive-element\";export*from\"@lit/reactive-element\";import{render as e,noChange as r}from\"lit-html\";export*from\"lit-html\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const s=globalThis;class i extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=e(r,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return r}}i._$litElement$=!0,i[\"finalized\"]=!0,s.litElementHydrateSupport?.({LitElement:i});const o=s.litElementPolyfillSupport;o?.({LitElement:i});const n={_$AK:(t,e,r)=>{t._$AK(e,r)},_$AL:t=>t._$AL};(s.litElementVersions??=[]).push(\"4.2.1\");export{i as LitElement,n as _$LE};\n//# sourceMappingURL=lit-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=t=>(e,o)=>{void 0!==o?o.addInitializer((()=>{customElements.define(t,e)})):customElements.define(t,e)};export{t as customElement};\n//# sourceMappingURL=custom-element.js.map\n","import{defaultConverter as t,notEqual as e}from\"../reactive-element.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const o={attribute:!0,type:String,converter:t,reflect:!1,hasChanged:e},r=(t=o,e,r)=>{const{kind:n,metadata:i}=r;let s=globalThis.litPropertyMetadata.get(i);if(void 0===s&&globalThis.litPropertyMetadata.set(i,s=new Map),\"setter\"===n&&((t=Object.create(t)).wrapped=!0),s.set(r.name,t),\"accessor\"===n){const{name:o}=r;return{set(r){const n=e.get.call(this);e.set.call(this,r),this.requestUpdate(o,n,t)},init(e){return void 0!==e&&this.C(o,void 0,t,e),e}}}if(\"setter\"===n){const{name:o}=r;return function(r){const n=this[o];e.call(this,r),this.requestUpdate(o,n,t)}}throw Error(\"Unsupported decorator location: \"+n)};function n(t){return(e,o)=>\"object\"==typeof o?r(t,e,o):((t,e,o)=>{const r=e.hasOwnProperty(o);return e.constructor.createProperty(o,t),r?Object.getOwnPropertyDescriptor(e,o):void 0})(t,e,o)}export{n as property,r as standardProperty};\n//# sourceMappingURL=property.js.map\n","import{property as t}from\"./property.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function r(r){return t({...r,state:!0,attribute:!1})}export{r as state};\n//# sourceMappingURL=state.js.map\n","import { css } from 'lit';\r\n\r\n/**\r\n * Common HA theme CSS variables for consistent styling\r\n */\r\nexport const haThemeVariables = css`\r\n  /* Primary colors */\r\n  --tsury-primary-color: var(--primary-color);\r\n  --tsury-primary-text-color: var(--primary-text-color);\r\n  --tsury-secondary-text-color: var(--secondary-text-color);\r\n  --tsury-disabled-text-color: var(--disabled-text-color);\r\n  --tsury-text-primary-color: var(--text-primary-color);\r\n\r\n  /* Background colors */\r\n  --tsury-card-background-color: var(--card-background-color);\r\n  --tsury-primary-background-color: var(--primary-background-color);\r\n  --tsury-secondary-background-color: var(--secondary-background-color);\r\n\r\n  /* State colors */\r\n  --tsury-success-color: var(--success-color, #4caf50);\r\n  --tsury-error-color: var(--error-color, #f44336);\r\n  --tsury-warning-color: var(--warning-color, #ff9800);\r\n  --tsury-info-color: var(--info-color, #2196f3);\r\n\r\n  /* Dividers and borders */\r\n  --tsury-divider-color: var(--divider-color);\r\n  --tsury-outline-color: var(--outline-color, var(--divider-color));\r\n\r\n  /* Shadows */\r\n  --tsury-card-box-shadow: var(--ha-card-box-shadow);\r\n\r\n  /* Interactive states */\r\n  --tsury-state-active-color: var(--state-active-color, var(--primary-color));\r\n  --tsury-state-hover-opacity: 0.08;\r\n  --tsury-state-focus-opacity: 0.12;\r\n  --tsury-state-selected-opacity: 0.12;\r\n  --tsury-state-pressed-opacity: 0.12;\r\n\r\n  /* Spacing */\r\n  --tsury-spacing-xs: 4px;\r\n  --tsury-spacing-sm: 8px;\r\n  --tsury-spacing-md: 16px;\r\n  --tsury-spacing-lg: 24px;\r\n  --tsury-spacing-xl: 32px;\r\n\r\n  /* Border radius */\r\n  --tsury-border-radius-sm: 4px;\r\n  --tsury-border-radius-md: 8px;\r\n  --tsury-border-radius-lg: 12px;\r\n  --tsury-border-radius-xl: 16px;\r\n\r\n  /* Typography */\r\n  --tsury-font-family: var(--paper-font-common-base_-_font-family, 'Roboto', sans-serif);\r\n  --tsury-font-size-sm: 12px;\r\n  --tsury-font-size-md: 14px;\r\n  --tsury-font-size-lg: 16px;\r\n  --tsury-font-size-xl: 20px;\r\n  --tsury-font-size-xxl: 24px;\r\n  --tsury-font-weight-regular: 400;\r\n  --tsury-font-weight-medium: 500;\r\n  --tsury-font-weight-bold: 700;\r\n\r\n  /* Transitions */\r\n  --tsury-transition-duration: 200ms;\r\n  --tsury-transition-timing: cubic-bezier(0.4, 0, 0.2, 1);\r\n`;\r\n\r\n/**\r\n * Helper function to determine if dark mode is active\r\n */\r\nexport function isDarkMode(hass: any): boolean {\r\n  return hass?.themes?.darkMode ?? false;\r\n}\r\n\r\n/**\r\n * Get a color with opacity adjustment based on theme\r\n */\r\nexport function getColorWithOpacity(color: string, opacity: number): string {\r\n  // If color is already rgba, extract rgb part\r\n  if (color.startsWith('rgba')) {\r\n    const rgbMatch = color.match(/rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)/);\r\n    if (rgbMatch) {\r\n      return `rgba(${rgbMatch[1]}, ${rgbMatch[2]}, ${rgbMatch[3]}, ${opacity})`;\r\n    }\r\n  }\r\n  \r\n  // If color is rgb\r\n  if (color.startsWith('rgb')) {\r\n    const rgbMatch = color.match(/rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)/);\r\n    if (rgbMatch) {\r\n      return `rgba(${rgbMatch[1]}, ${rgbMatch[2]}, ${rgbMatch[3]}, ${opacity})`;\r\n    }\r\n  }\r\n  \r\n  // If hex color\r\n  if (color.startsWith('#')) {\r\n    const hex = color.replace('#', '');\r\n    const r = parseInt(hex.substring(0, 2), 16);\r\n    const g = parseInt(hex.substring(2, 4), 16);\r\n    const b = parseInt(hex.substring(4, 6), 16);\r\n    return `rgba(${r}, ${g}, ${b}, ${opacity})`;\r\n  }\r\n  \r\n  // Fallback: return as-is\r\n  return color;\r\n}\r\n\r\n/**\r\n * Get contrast text color based on background\r\n */\r\nexport function getContrastTextColor(backgroundColor: string, isDark: boolean): string {\r\n  // Simple heuristic: use primary text color\r\n  return isDark ? '#ffffff' : '#000000';\r\n}\r\n\r\n/**\r\n * Get surface color with elevation\r\n */\r\nexport function getSurfaceColor(elevation: number, isDark: boolean): string {\r\n  if (!isDark) {\r\n    return 'var(--card-background-color)';\r\n  }\r\n  \r\n  // In dark mode, add white overlay based on elevation\r\n  const opacity = Math.min(0.05 + (elevation * 0.02), 0.16);\r\n  return `rgba(255, 255, 255, ${opacity})`;\r\n}\r\n\r\n/**\r\n * Common button styles respecting HA theme\r\n */\r\nexport const haButtonStyles = css`\r\n  button {\r\n    font-family: var(--tsury-font-family);\r\n    font-size: var(--tsury-font-size-md);\r\n    font-weight: var(--tsury-font-weight-medium);\r\n    border: none;\r\n    border-radius: var(--tsury-border-radius-md);\r\n    padding: var(--tsury-spacing-sm) var(--tsury-spacing-md);\r\n    cursor: pointer;\r\n    transition: all var(--tsury-transition-duration) var(--tsury-transition-timing);\r\n    outline: none;\r\n    position: relative;\r\n    overflow: hidden;\r\n  }\r\n\r\n  button:disabled {\r\n    opacity: 0.38;\r\n    cursor: not-allowed;\r\n  }\r\n\r\n  button:not(:disabled):hover {\r\n    filter: brightness(1.1);\r\n  }\r\n\r\n  button:not(:disabled):active {\r\n    filter: brightness(0.9);\r\n  }\r\n\r\n  button.primary {\r\n    background-color: var(--tsury-primary-color);\r\n    color: var(--text-primary-color);\r\n  }\r\n\r\n  button.success {\r\n    background-color: var(--tsury-success-color);\r\n    color: white;\r\n  }\r\n\r\n  button.error {\r\n    background-color: var(--tsury-error-color);\r\n    color: white;\r\n  }\r\n\r\n  button.text {\r\n    background-color: transparent;\r\n    color: var(--tsury-primary-color);\r\n  }\r\n\r\n  button.outlined {\r\n    background-color: transparent;\r\n    color: var(--tsury-primary-color);\r\n    border: 1px solid var(--tsury-outline-color);\r\n  }\r\n\r\n  /* Ripple effect */\r\n  button::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    width: 0;\r\n    height: 0;\r\n    border-radius: 50%;\r\n    background-color: rgba(255, 255, 255, 0.3);\r\n    transform: translate(-50%, -50%);\r\n    transition: width 0.6s, height 0.6s;\r\n  }\r\n\r\n  button:active::before {\r\n    width: 300px;\r\n    height: 300px;\r\n  }\r\n`;\r\n\r\n/**\r\n * Common card styles respecting HA theme\r\n */\r\nexport const haCardStyles = css`\r\n  .card {\r\n    background-color: var(--tsury-card-background-color);\r\n    border-radius: var(--ha-card-border-radius, var(--tsury-border-radius-lg));\r\n    box-shadow: var(--tsury-card-box-shadow);\r\n    padding: var(--tsury-spacing-md);\r\n  }\r\n\r\n  .card-header {\r\n    font-size: var(--tsury-font-size-xl);\r\n    font-weight: var(--tsury-font-weight-medium);\r\n    color: var(--tsury-primary-text-color);\r\n    margin-bottom: var(--tsury-spacing-md);\r\n  }\r\n\r\n  .card-content {\r\n    color: var(--tsury-primary-text-color);\r\n  }\r\n`;\r\n\r\n/**\r\n * Common list item styles\r\n */\r\nexport const haListStyles = css`\r\n  .list-item {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: var(--tsury-spacing-md);\r\n    min-height: 48px;\r\n    cursor: pointer;\r\n    transition: background-color var(--tsury-transition-duration) var(--tsury-transition-timing);\r\n    border-radius: var(--tsury-border-radius-md);\r\n  }\r\n\r\n  .list-item:hover {\r\n    background-color: rgba(var(--rgb-primary-color), var(--tsury-state-hover-opacity));\r\n  }\r\n\r\n  .list-item:active {\r\n    background-color: rgba(var(--rgb-primary-color), var(--tsury-state-pressed-opacity));\r\n  }\r\n\r\n  .list-item-avatar {\r\n    width: 40px;\r\n    height: 40px;\r\n    border-radius: 50%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin-right: var(--tsury-spacing-md);\r\n    font-size: var(--tsury-font-size-lg);\r\n    font-weight: var(--tsury-font-weight-medium);\r\n  }\r\n\r\n  .list-item-text {\r\n    flex: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    min-width: 0;\r\n  }\r\n\r\n  .list-item-primary {\r\n    font-size: var(--tsury-font-size-md);\r\n    color: var(--tsury-primary-text-color);\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n  }\r\n\r\n  .list-item-secondary {\r\n    font-size: var(--tsury-font-size-sm);\r\n    color: var(--tsury-secondary-text-color);\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n  }\r\n\r\n  .divider {\r\n    height: 1px;\r\n    background-color: var(--tsury-divider-color);\r\n    margin: var(--tsury-spacing-sm) 0;\r\n  }\r\n`;\r\n","import { css } from 'lit';\r\n\r\n/**\r\n * Common utility styles used across components\r\n */\r\nexport const commonStyles = css`\r\n  * {\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  .flex {\r\n    display: flex;\r\n  }\r\n\r\n  .flex-column {\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n\r\n  .flex-center {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n\r\n  .flex-1 {\r\n    flex: 1;\r\n  }\r\n\r\n  .text-center {\r\n    text-align: center;\r\n  }\r\n\r\n  .text-ellipsis {\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n  }\r\n\r\n  .clickable {\r\n    cursor: pointer;\r\n    user-select: none;\r\n    -webkit-tap-highlight-color: transparent;\r\n  }\r\n\r\n  .disabled {\r\n    opacity: 0.38;\r\n    pointer-events: none;\r\n  }\r\n\r\n  .hidden {\r\n    display: none !important;\r\n  }\r\n\r\n  .scrollable {\r\n    overflow-y: auto;\r\n    -webkit-overflow-scrolling: touch;\r\n  }\r\n\r\n  .scrollable::-webkit-scrollbar {\r\n    width: 8px;\r\n  }\r\n\r\n  .scrollable::-webkit-scrollbar-track {\r\n    background: transparent;\r\n  }\r\n\r\n  .scrollable::-webkit-scrollbar-thumb {\r\n    background-color: rgba(128, 128, 128, 0.3);\r\n    border-radius: 4px;\r\n  }\r\n\r\n  .scrollable::-webkit-scrollbar-thumb:hover {\r\n    background-color: rgba(128, 128, 128, 0.5);\r\n  }\r\n\r\n  /* Fade animations */\r\n  @keyframes fadeIn {\r\n    from {\r\n      opacity: 0;\r\n    }\r\n    to {\r\n      opacity: 1;\r\n    }\r\n  }\r\n\r\n  @keyframes fadeOut {\r\n    from {\r\n      opacity: 1;\r\n    }\r\n    to {\r\n      opacity: 0;\r\n    }\r\n  }\r\n\r\n  @keyframes slideInUp {\r\n    from {\r\n      transform: translateY(100%);\r\n      opacity: 0;\r\n    }\r\n    to {\r\n      transform: translateY(0);\r\n      opacity: 1;\r\n    }\r\n  }\r\n\r\n  @keyframes slideOutDown {\r\n    from {\r\n      transform: translateY(0);\r\n      opacity: 1;\r\n    }\r\n    to {\r\n      transform: translateY(100%);\r\n      opacity: 0;\r\n    }\r\n  }\r\n\r\n  .fade-in {\r\n    animation: fadeIn var(--tsury-transition-duration) var(--tsury-transition-timing);\r\n  }\r\n\r\n  .fade-out {\r\n    animation: fadeOut var(--tsury-transition-duration) var(--tsury-transition-timing);\r\n  }\r\n\r\n  .slide-in-up {\r\n    animation: slideInUp var(--tsury-transition-duration) var(--tsury-transition-timing);\r\n  }\r\n\r\n  .slide-out-down {\r\n    animation: slideOutDown var(--tsury-transition-duration) var(--tsury-transition-timing);\r\n  }\r\n`;\r\n","/**\r\n * TsuryPhone Navigation Component\r\n * Bottom navigation bar with three tabs: Home, Keypad, Contacts\r\n */\r\n\r\nimport { LitElement, html, css, CSSResultGroup, TemplateResult } from 'lit';\r\nimport { customElement, property } from 'lit/decorators.js';\r\nimport { haThemeVariables } from '../../styles/theme';\r\n\r\nexport type NavigationTab = 'home' | 'keypad' | 'contacts';\r\n\r\nexport interface TabChangeEvent {\r\n  tab: NavigationTab;\r\n}\r\n\r\n@customElement('tsuryphone-navigation')\r\nexport class TsuryPhoneNavigation extends LitElement {\r\n  @property({ type: String }) activeTab: NavigationTab = 'home';\r\n  @property({ type: Boolean }) disabled = false;\r\n\r\n  private _handleTabClick(tab: NavigationTab): void {\r\n    if (this.disabled || tab === this.activeTab) {\r\n      return;\r\n    }\r\n\r\n    // Dispatch custom event for parent to handle\r\n    this.dispatchEvent(\r\n      new CustomEvent<TabChangeEvent>('tab-change', {\r\n        detail: { tab },\r\n        bubbles: true,\r\n        composed: true,\r\n      })\r\n    );\r\n  }\r\n\r\n  render(): TemplateResult {\r\n    return html`\r\n      <nav class=\"navigation ${this.disabled ? 'disabled' : ''}\" role=\"tablist\">\r\n        ${this._renderTab('home', 'mdi:home', 'Home')}\r\n        ${this._renderTab('keypad', 'mdi:dialpad', 'Keypad')}\r\n        ${this._renderTab('contacts', 'mdi:contacts', 'Contacts')}\r\n      </nav>\r\n    `;\r\n  }\r\n\r\n  private _renderTab(tab: NavigationTab, icon: string, label: string): TemplateResult {\r\n    const isActive = this.activeTab === tab;\r\n    \r\n    return html`\r\n      <button\r\n        class=\"nav-tab ${isActive ? 'active' : ''}\"\r\n        role=\"tab\"\r\n        aria-selected=\"${isActive}\"\r\n        aria-label=\"${label}\"\r\n        @click=${() => this._handleTabClick(tab)}\r\n        ?disabled=${this.disabled}\r\n      >\r\n        <ha-icon icon=\"${icon}\"></ha-icon>\r\n        <span class=\"nav-label\">${label}</span>\r\n      </button>\r\n    `;\r\n  }\r\n\r\n  static get styles(): CSSResultGroup {\r\n    return [\r\n      haThemeVariables,\r\n      css`\r\n        :host {\r\n          display: block;\r\n        }\r\n\r\n        .navigation {\r\n          display: flex;\r\n          justify-content: space-around;\r\n          align-items: center;\r\n          background: var(--tsury-card-background-color);\r\n          border-top: 1px solid var(--tsury-divider-color);\r\n          padding: var(--tsury-spacing-xs) 0;\r\n          min-height: 56px;\r\n          position: relative;\r\n        }\r\n\r\n        .navigation.disabled {\r\n          opacity: 0.5;\r\n          pointer-events: none;\r\n        }\r\n\r\n        .nav-tab {\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          justify-content: center;\r\n          flex: 1;\r\n          gap: 4px;\r\n          padding: var(--tsury-spacing-sm);\r\n          background: transparent;\r\n          border: none;\r\n          cursor: pointer;\r\n          color: var(--tsury-secondary-text-color);\r\n          transition: all var(--tsury-transition-duration) var(--tsury-transition-timing);\r\n          position: relative;\r\n          min-width: 64px;\r\n          outline: none;\r\n          -webkit-tap-highlight-color: transparent;\r\n        }\r\n\r\n        .nav-tab:disabled {\r\n          cursor: not-allowed;\r\n        }\r\n\r\n        .nav-tab:not(:disabled):hover {\r\n          background: rgba(var(--rgb-primary-color, 128, 128, 128), var(--tsury-state-hover-opacity));\r\n        }\r\n\r\n        .nav-tab:not(:disabled):active {\r\n          background: rgba(var(--rgb-primary-color, 128, 128, 128), var(--tsury-state-pressed-opacity));\r\n        }\r\n\r\n        .nav-tab:not(:disabled):focus-visible {\r\n          outline: 2px solid var(--tsury-primary-color);\r\n          outline-offset: -2px;\r\n        }\r\n\r\n        .nav-tab.active {\r\n          color: var(--tsury-primary-color);\r\n        }\r\n\r\n        .nav-tab.active::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 0;\r\n          left: 50%;\r\n          transform: translateX(-50%);\r\n          width: 64px;\r\n          height: 3px;\r\n          background: var(--tsury-primary-color);\r\n          border-radius: 0 0 3px 3px;\r\n          animation: slideIn 200ms var(--tsury-transition-timing);\r\n        }\r\n\r\n        @keyframes slideIn {\r\n          from {\r\n            width: 0;\r\n            opacity: 0;\r\n          }\r\n          to {\r\n            width: 64px;\r\n            opacity: 1;\r\n          }\r\n        }\r\n\r\n        .nav-tab ha-icon {\r\n          --mdc-icon-size: 24px;\r\n          display: block;\r\n        }\r\n\r\n        .nav-label {\r\n          font-size: 12px;\r\n          font-weight: var(--tsury-font-weight-medium);\r\n          white-space: nowrap;\r\n        }\r\n\r\n        /* Ripple effect on tap */\r\n        .nav-tab::after {\r\n          content: '';\r\n          position: absolute;\r\n          top: 50%;\r\n          left: 50%;\r\n          width: 0;\r\n          height: 0;\r\n          border-radius: 50%;\r\n          background: rgba(var(--rgb-primary-color, 128, 128, 128), 0.2);\r\n          transform: translate(-50%, -50%);\r\n          transition: width 0.4s, height 0.4s;\r\n          pointer-events: none;\r\n        }\r\n\r\n        .nav-tab:active::after {\r\n          width: 100px;\r\n          height: 100px;\r\n        }\r\n\r\n        /* Mobile optimization */\r\n        @media (max-width: 600px) {\r\n          .nav-label {\r\n            font-size: 11px;\r\n          }\r\n\r\n          .nav-tab {\r\n            min-width: 56px;\r\n          }\r\n        }\r\n\r\n        /* Desktop optimization */\r\n        @media (min-width: 1024px) {\r\n          .navigation {\r\n            min-height: 64px;\r\n          }\r\n\r\n          .nav-tab {\r\n            min-width: 80px;\r\n          }\r\n\r\n          .nav-label {\r\n            font-size: 13px;\r\n          }\r\n        }\r\n      `,\r\n    ];\r\n  }\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    'tsuryphone-navigation': TsuryPhoneNavigation;\r\n  }\r\n}\r\n","/**\r\n * Format dates for call history display\r\n */\r\n\r\n/**\r\n * Format a timestamp for display in call log\r\n */\r\nexport function formatCallTime(timestamp: string | Date): string {\r\n  const date = typeof timestamp === 'string' ? new Date(timestamp) : timestamp;\r\n  const now = new Date();\r\n  const diff = now.getTime() - date.getTime();\r\n  const diffMinutes = Math.floor(diff / 60000);\r\n  const diffHours = Math.floor(diff / 3600000);\r\n  const diffDays = Math.floor(diff / 86400000);\r\n\r\n  // Just now (< 1 minute)\r\n  if (diffMinutes < 1) {\r\n    return 'Just now';\r\n  }\r\n\r\n  // Minutes ago (< 1 hour)\r\n  if (diffMinutes < 60) {\r\n    return `${diffMinutes}m ago`;\r\n  }\r\n\r\n  // Hours ago (< 24 hours)\r\n  if (diffHours < 24) {\r\n    return `${diffHours}h ago`;\r\n  }\r\n\r\n  // Days ago (< 7 days)\r\n  if (diffDays < 7) {\r\n    return `${diffDays}d ago`;\r\n  }\r\n\r\n  // Date format for older calls\r\n  const month = date.getMonth() + 1;\r\n  const day = date.getDate();\r\n  return `${month}/${day}`;\r\n}\r\n\r\n/**\r\n * Get group label for call history grouping\r\n */\r\nexport function getCallHistoryGroup(timestamp: string | Date): string {\r\n  const date = typeof timestamp === 'string' ? new Date(timestamp) : timestamp;\r\n  const now = new Date();\r\n  \r\n  // Reset time to midnight for comparison\r\n  const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\r\n  const callDate = new Date(date.getFullYear(), date.getMonth(), date.getDate());\r\n  \r\n  const diffTime = today.getTime() - callDate.getTime();\r\n  const diffDays = Math.floor(diffTime / 86400000);\r\n\r\n  if (diffDays === 0) {\r\n    return 'Today';\r\n  }\r\n  \r\n  if (diffDays === 1) {\r\n    return 'Yesterday';\r\n  }\r\n  \r\n  if (diffDays < 7) {\r\n    return 'This Week';\r\n  }\r\n  \r\n  if (diffDays < 30) {\r\n    return 'This Month';\r\n  }\r\n  \r\n  // Format as \"Month Year\" for older calls\r\n  const months = ['January', 'February', 'March', 'April', 'May', 'June',\r\n                  'July', 'August', 'September', 'October', 'November', 'December'];\r\n  return `${months[date.getMonth()]} ${date.getFullYear()}`;\r\n}\r\n\r\n/**\r\n * Format call duration in seconds to readable format\r\n */\r\nexport function formatDuration(seconds: number): string {\r\n  if (seconds < 60) {\r\n    return `${seconds}s`;\r\n  }\r\n  \r\n  const minutes = Math.floor(seconds / 60);\r\n  const remainingSeconds = seconds % 60;\r\n  \r\n  if (minutes < 60) {\r\n    return remainingSeconds > 0 ? `${minutes}m ${remainingSeconds}s` : `${minutes}m`;\r\n  }\r\n  \r\n  const hours = Math.floor(minutes / 60);\r\n  const remainingMinutes = minutes % 60;\r\n  return remainingMinutes > 0 ? `${hours}h ${remainingMinutes}m` : `${hours}h`;\r\n}\r\n","/**\r\n * Group and filter call history entries\r\n */\r\n\r\nimport { getCallHistoryGroup } from './date-formatter';\r\n\r\nexport type CallType = 'incoming' | 'outgoing' | 'missed';\r\nexport type CallFilter = 'all' | 'missed' | 'outgoing' | 'incoming';\r\n\r\nexport interface CallHistoryEntry {\r\n  id: string;\r\n  contactName: string;\r\n  phoneNumber: string;\r\n  timestamp: string;\r\n  duration: number;\r\n  type: CallType;\r\n  isBlocked?: boolean;\r\n}\r\n\r\nexport interface GroupedCallHistory {\r\n  groupLabel: string;\r\n  calls: CallHistoryEntry[];\r\n}\r\n\r\n/**\r\n * Filter call history by type\r\n */\r\nexport function filterCallHistory(\r\n  calls: CallHistoryEntry[],\r\n  filter: CallFilter\r\n): CallHistoryEntry[] {\r\n  if (filter === 'all') {\r\n    return calls;\r\n  }\r\n  return calls.filter(call => call.type === filter);\r\n}\r\n\r\n/**\r\n * Group call history by date ranges\r\n */\r\nexport function groupCallHistory(calls: CallHistoryEntry[]): GroupedCallHistory[] {\r\n  // Create a map of groups\r\n  const groups = new Map<string, CallHistoryEntry[]>();\r\n\r\n  // Sort calls by timestamp (newest first)\r\n  const sortedCalls = [...calls].sort((a, b) => {\r\n    return new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime();\r\n  });\r\n\r\n  // Group calls\r\n  sortedCalls.forEach(call => {\r\n    const groupLabel = getCallHistoryGroup(call.timestamp);\r\n    if (!groups.has(groupLabel)) {\r\n      groups.set(groupLabel, []);\r\n    }\r\n    groups.get(groupLabel)!.push(call);\r\n  });\r\n\r\n  // Convert to array and maintain order\r\n  const groupOrder = ['Today', 'Yesterday', 'This Week', 'This Month'];\r\n  const result: GroupedCallHistory[] = [];\r\n\r\n  // Add known groups in order\r\n  groupOrder.forEach(label => {\r\n    if (groups.has(label)) {\r\n      result.push({\r\n        groupLabel: label,\r\n        calls: groups.get(label)!,\r\n      });\r\n      groups.delete(label);\r\n    }\r\n  });\r\n\r\n  // Add remaining groups (month/year groups) in chronological order\r\n  const remainingGroups = Array.from(groups.entries())\r\n    .map(([groupLabel, calls]) => ({\r\n      groupLabel,\r\n      calls,\r\n      // Use first call's timestamp for sorting\r\n      timestamp: new Date(calls[0].timestamp).getTime(),\r\n    }))\r\n    .sort((a, b) => b.timestamp - a.timestamp);\r\n\r\n  remainingGroups.forEach(group => {\r\n    result.push({\r\n      groupLabel: group.groupLabel,\r\n      calls: group.calls,\r\n    });\r\n  });\r\n\r\n  return result;\r\n}\r\n\r\n/**\r\n * Get frequent contacts from call history (top N most called)\r\n */\r\nexport function getFrequentContacts(\r\n  calls: CallHistoryEntry[],\r\n  limit: number = 6\r\n): { contactName: string; phoneNumber: string; callCount: number }[] {\r\n  // Count calls per contact\r\n  const contactCounts = new Map<string, { name: string; phone: string; count: number }>();\r\n\r\n  calls.forEach(call => {\r\n    const key = call.phoneNumber;\r\n    if (contactCounts.has(key)) {\r\n      contactCounts.get(key)!.count++;\r\n    } else {\r\n      contactCounts.set(key, {\r\n        name: call.contactName,\r\n        phone: call.phoneNumber,\r\n        count: 1,\r\n      });\r\n    }\r\n  });\r\n\r\n  // Sort by count and take top N\r\n  return Array.from(contactCounts.values())\r\n    .sort((a, b) => b.count - a.count)\r\n    .slice(0, limit)\r\n    .map(contact => ({\r\n      contactName: contact.name,\r\n      phoneNumber: contact.phone,\r\n      callCount: contact.count,\r\n    }));\r\n}\r\n","import { LitElement, html, css } from 'lit';\r\nimport { customElement, property } from 'lit/decorators.js';\r\nimport { CallFilter } from '../../utils/call-history-grouping';\r\n\r\n@customElement('tsuryphone-call-log-filters')\r\nexport class TsuryPhoneCallLogFilters extends LitElement {\r\n  @property({ type: String }) activeFilter: CallFilter = 'all';\r\n\r\n  static styles = css`\r\n    :host {\r\n      display: block;\r\n    }\r\n\r\n    .filters {\r\n      display: flex;\r\n      gap: 8px;\r\n      padding: 16px;\r\n      overflow-x: auto;\r\n      -webkit-overflow-scrolling: touch;\r\n      scrollbar-width: none;\r\n    }\r\n\r\n    .filters::-webkit-scrollbar {\r\n      display: none;\r\n    }\r\n\r\n    .filter-chip {\r\n      flex-shrink: 0;\r\n      padding: 8px 16px;\r\n      border-radius: 16px;\r\n      border: 1px solid var(--divider-color);\r\n      background: var(--card-background-color);\r\n      color: var(--primary-text-color);\r\n      font-size: 14px;\r\n      font-weight: 500;\r\n      cursor: pointer;\r\n      transition: all 0.2s ease;\r\n      white-space: nowrap;\r\n      user-select: none;\r\n    }\r\n\r\n    .filter-chip:hover {\r\n      background: var(--primary-color);\r\n      color: var(--text-primary-color);\r\n      border-color: var(--primary-color);\r\n    }\r\n\r\n    .filter-chip.active {\r\n      background: var(--primary-color);\r\n      color: var(--text-primary-color);\r\n      border-color: var(--primary-color);\r\n    }\r\n\r\n    .filter-chip:active {\r\n      transform: scale(0.95);\r\n    }\r\n  `;\r\n\r\n  private _handleFilterClick(filter: CallFilter) {\r\n    this.activeFilter = filter;\r\n    this.dispatchEvent(\r\n      new CustomEvent('filter-changed', {\r\n        detail: { filter },\r\n        bubbles: true,\r\n        composed: true,\r\n      })\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return html`\r\n      <div class=\"filters\">\r\n        <div\r\n          class=\"filter-chip ${this.activeFilter === 'all' ? 'active' : ''}\"\r\n          @click=${() => this._handleFilterClick('all')}\r\n          role=\"button\"\r\n          tabindex=\"0\"\r\n          aria-label=\"Show all calls\"\r\n        >\r\n          All\r\n        </div>\r\n        <div\r\n          class=\"filter-chip ${this.activeFilter === 'missed' ? 'active' : ''}\"\r\n          @click=${() => this._handleFilterClick('missed')}\r\n          role=\"button\"\r\n          tabindex=\"0\"\r\n          aria-label=\"Show missed calls\"\r\n        >\r\n          Missed\r\n        </div>\r\n        <div\r\n          class=\"filter-chip ${this.activeFilter === 'outgoing' ? 'active' : ''}\"\r\n          @click=${() => this._handleFilterClick('outgoing')}\r\n          role=\"button\"\r\n          tabindex=\"0\"\r\n          aria-label=\"Show outgoing calls\"\r\n        >\r\n          Outgoing\r\n        </div>\r\n        <div\r\n          class=\"filter-chip ${this.activeFilter === 'incoming' ? 'active' : ''}\"\r\n          @click=${() => this._handleFilterClick('incoming')}\r\n          role=\"button\"\r\n          tabindex=\"0\"\r\n          aria-label=\"Show incoming calls\"\r\n        >\r\n          Incoming\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    'tsuryphone-call-log-filters': TsuryPhoneCallLogFilters;\r\n  }\r\n}\r\n","/**\r\n * Generate consistent avatar colors based on contact name\r\n */\r\n\r\nconst AVATAR_COLORS = [\r\n  '#1976d2', // Blue\r\n  '#388e3c', // Green\r\n  '#d32f2f', // Red\r\n  '#7b1fa2', // Purple\r\n  '#f57c00', // Orange\r\n  '#0097a7', // Cyan\r\n  '#c2185b', // Pink\r\n  '#5d4037', // Brown\r\n  '#455a64', // Blue Grey\r\n  '#689f38', // Light Green\r\n  '#0288d1', // Light Blue\r\n  '#e64a19', // Deep Orange\r\n];\r\n\r\n/**\r\n * Simple hash function for strings\r\n */\r\nfunction hashCode(str: string): number {\r\n  let hash = 0;\r\n  for (let i = 0; i < str.length; i++) {\r\n    const char = str.charCodeAt(i);\r\n    hash = (hash << 5) - hash + char;\r\n    hash = hash & hash; // Convert to 32bit integer\r\n  }\r\n  return Math.abs(hash);\r\n}\r\n\r\n/**\r\n * Get a consistent color for a given name\r\n */\r\nexport function getAvatarColor(name: string): string {\r\n  if (!name) {\r\n    return AVATAR_COLORS[0];\r\n  }\r\n  const index = hashCode(name) % AVATAR_COLORS.length;\r\n  return AVATAR_COLORS[index];\r\n}\r\n\r\n/**\r\n * Get initials from a name (up to 2 characters)\r\n */\r\nexport function getInitials(name: string): string {\r\n  if (!name) {\r\n    return '?';\r\n  }\r\n\r\n  const words = name.trim().split(/\\s+/);\r\n  \r\n  if (words.length === 1) {\r\n    // Single word: take first 2 chars\r\n    return words[0].substring(0, 2).toUpperCase();\r\n  }\r\n  \r\n  // Multiple words: take first char of first two words\r\n  return (words[0][0] + words[1][0]).toUpperCase();\r\n}\r\n","import { LitElement, html, css } from 'lit';\r\nimport { customElement, property } from 'lit/decorators.js';\r\nimport { getAvatarColor, getInitials } from '../../utils/avatar-color';\r\n\r\ninterface FrequentContact {\r\n  contactName: string;\r\n  phoneNumber: string;\r\n  callCount: number;\r\n}\r\n\r\n@customElement('tsuryphone-frequent-contacts')\r\nexport class TsuryPhoneFrequentContacts extends LitElement {\r\n  @property({ type: Array }) contacts: FrequentContact[] = [];\r\n\r\n  static styles = css`\r\n    :host {\r\n      display: block;\r\n    }\r\n\r\n    .frequent-contacts {\r\n      padding: 16px;\r\n    }\r\n\r\n    .section-header {\r\n      font-size: 14px;\r\n      font-weight: 600;\r\n      color: var(--secondary-text-color);\r\n      text-transform: uppercase;\r\n      letter-spacing: 0.5px;\r\n      margin-bottom: 12px;\r\n    }\r\n\r\n    .contacts-grid {\r\n      display: grid;\r\n      grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));\r\n      gap: 16px;\r\n    }\r\n\r\n    .contact-item {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      gap: 8px;\r\n      cursor: pointer;\r\n      padding: 8px;\r\n      border-radius: 8px;\r\n      transition: background-color 0.2s ease;\r\n    }\r\n\r\n    .contact-item:hover {\r\n      background: var(--sidebar-background-color, rgba(0, 0, 0, 0.05));\r\n    }\r\n\r\n    .contact-item:active {\r\n      transform: scale(0.95);\r\n    }\r\n\r\n    .avatar {\r\n      width: 56px;\r\n      height: 56px;\r\n      border-radius: 50%;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      color: white;\r\n      font-weight: 600;\r\n      font-size: 20px;\r\n      position: relative;\r\n    }\r\n\r\n    .call-count-badge {\r\n      position: absolute;\r\n      top: -4px;\r\n      right: -4px;\r\n      background: var(--primary-color);\r\n      color: var(--text-primary-color);\r\n      font-size: 11px;\r\n      font-weight: 600;\r\n      padding: 2px 6px;\r\n      border-radius: 10px;\r\n      min-width: 20px;\r\n      text-align: center;\r\n      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\r\n    }\r\n\r\n    .contact-name {\r\n      font-size: 13px;\r\n      color: var(--primary-text-color);\r\n      text-align: center;\r\n      max-width: 100%;\r\n      white-space: nowrap;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n    }\r\n\r\n    .empty-state {\r\n      text-align: center;\r\n      padding: 32px 16px;\r\n      color: var(--secondary-text-color);\r\n    }\r\n\r\n    .empty-icon {\r\n      font-size: 48px;\r\n      margin-bottom: 12px;\r\n      opacity: 0.5;\r\n    }\r\n\r\n    .empty-text {\r\n      font-size: 14px;\r\n    }\r\n  `;\r\n\r\n  private _handleContactClick(contact: FrequentContact) {\r\n    this.dispatchEvent(\r\n      new CustomEvent('contact-clicked', {\r\n        detail: { contact },\r\n        bubbles: true,\r\n        composed: true,\r\n      })\r\n    );\r\n  }\r\n\r\n  render() {\r\n    if (this.contacts.length === 0) {\r\n      return html`\r\n        <div class=\"frequent-contacts\">\r\n          <div class=\"section-header\">Frequent Contacts</div>\r\n          <div class=\"empty-state\">\r\n            <div class=\"empty-icon\"></div>\r\n            <div class=\"empty-text\">No frequent contacts yet</div>\r\n          </div>\r\n        </div>\r\n      `;\r\n    }\r\n\r\n    return html`\r\n      <div class=\"frequent-contacts\">\r\n        <div class=\"section-header\">Frequent Contacts</div>\r\n        <div class=\"contacts-grid\">\r\n          ${this.contacts.map(\r\n            contact => html`\r\n              <div\r\n                class=\"contact-item\"\r\n                @click=${() => this._handleContactClick(contact)}\r\n                role=\"button\"\r\n                tabindex=\"0\"\r\n                aria-label=\"Call ${contact.contactName}\"\r\n              >\r\n                <div class=\"avatar\" style=\"background-color: ${getAvatarColor(contact.contactName)}\">\r\n                  ${getInitials(contact.contactName)}\r\n                  ${contact.callCount > 1\r\n                    ? html`<div class=\"call-count-badge\">${contact.callCount}</div>`\r\n                    : ''}\r\n                </div>\r\n                <div class=\"contact-name\" title=\"${contact.contactName}\">\r\n                  ${contact.contactName}\r\n                </div>\r\n              </div>\r\n            `\r\n          )}\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    'tsuryphone-frequent-contacts': TsuryPhoneFrequentContacts;\r\n  }\r\n}\r\n","import { LitElement, html, css } from 'lit';\r\nimport { customElement, property } from 'lit/decorators.js';\r\nimport { CallHistoryEntry } from '../../utils/call-history-grouping';\r\nimport { formatCallTime, formatDuration } from '../../utils/date-formatter';\r\nimport { getAvatarColor, getInitials } from '../../utils/avatar-color';\r\n\r\n@customElement('tsuryphone-call-log-item')\r\nexport class TsuryPhoneCallLogItem extends LitElement {\r\n  @property({ type: Object }) call!: CallHistoryEntry;\r\n\r\n  static styles = css`\r\n    :host {\r\n      display: block;\r\n    }\r\n\r\n    .call-item {\r\n      display: flex;\r\n      align-items: center;\r\n      padding: 12px 16px;\r\n      gap: 12px;\r\n      cursor: pointer;\r\n      transition: background-color 0.2s ease;\r\n    }\r\n\r\n    .call-item:hover {\r\n      background: var(--sidebar-background-color, rgba(0, 0, 0, 0.05));\r\n    }\r\n\r\n    .call-item:active {\r\n      background: var(--divider-color);\r\n    }\r\n\r\n    .avatar {\r\n      width: 40px;\r\n      height: 40px;\r\n      border-radius: 50%;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      color: white;\r\n      font-weight: 600;\r\n      font-size: 16px;\r\n      flex-shrink: 0;\r\n    }\r\n\r\n    .call-info {\r\n      flex: 1;\r\n      min-width: 0;\r\n    }\r\n\r\n    .call-header {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 8px;\r\n      margin-bottom: 4px;\r\n    }\r\n\r\n    .contact-name {\r\n      font-weight: 500;\r\n      color: var(--primary-text-color);\r\n      white-space: nowrap;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n    }\r\n\r\n    .call-type-icon {\r\n      width: 16px;\r\n      height: 16px;\r\n      flex-shrink: 0;\r\n    }\r\n\r\n    .call-type-icon svg {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n\r\n    .call-type-icon.incoming {\r\n      color: var(--success-color, #4caf50);\r\n    }\r\n\r\n    .call-type-icon.outgoing {\r\n      color: var(--info-color, #2196f3);\r\n    }\r\n\r\n    .call-type-icon.missed {\r\n      color: var(--error-color, #f44336);\r\n    }\r\n\r\n    .call-details {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 8px;\r\n      font-size: 13px;\r\n      color: var(--secondary-text-color);\r\n    }\r\n\r\n    .phone-number {\r\n      white-space: nowrap;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n    }\r\n\r\n    .call-time {\r\n      flex-shrink: 0;\r\n      font-size: 13px;\r\n      color: var(--secondary-text-color);\r\n      margin-left: auto;\r\n    }\r\n\r\n    .blocked-badge {\r\n      background: var(--error-color, #f44336);\r\n      color: white;\r\n      font-size: 11px;\r\n      padding: 2px 6px;\r\n      border-radius: 4px;\r\n      font-weight: 500;\r\n      flex-shrink: 0;\r\n    }\r\n  `;\r\n\r\n  private _getCallTypeIcon() {\r\n    switch (this.call.type) {\r\n      case 'incoming':\r\n        return html`\r\n          <div class=\"call-type-icon incoming\" title=\"Incoming call\">\r\n            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n              <path d=\"M20 15.5c-1.2 0-2.4-.2-3.5-.6-.3-.1-.7 0-1 .2l-2.2 2.2c-2.8-1.4-5.1-3.8-6.6-6.6l2.2-2.2c.3-.3.4-.7.2-1-.3-1.1-.5-2.3-.5-3.5 0-.6-.4-1-1-1H4c-.6 0-1 .4-1 1 0 9.4 7.6 17 17 17 .6 0 1-.4 1-1v-3.5c0-.6-.4-1-1-1zM19 12h2c0-4.97-4.03-9-9-9v2c3.87 0 7 3.13 7 7zm-4 0h2c0-2.76-2.24-5-5-5v2c1.66 0 3 1.34 3 3z\"/>\r\n            </svg>\r\n          </div>\r\n        `;\r\n      case 'outgoing':\r\n        return html`\r\n          <div class=\"call-type-icon outgoing\" title=\"Outgoing call\">\r\n            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n              <path d=\"M20 15.5c-1.2 0-2.4-.2-3.5-.6-.3-.1-.7 0-1 .2l-2.2 2.2c-2.8-1.4-5.1-3.8-6.6-6.6l2.2-2.2c.3-.3.4-.7.2-1-.3-1.1-.5-2.3-.5-3.5 0-.6-.4-1-1-1H4c-.6 0-1 .4-1 1 0 9.4 7.6 17 17 17 .6 0 1-.4 1-1v-3.5c0-.6-.4-1-1-1zM9 1v2c3.87 0 7 3.13 7 7h2c0-4.97-4.03-9-9-9zm4 4v2c1.66 0 3 1.34 3 3h2c0-2.76-2.24-5-5-5z\"/>\r\n            </svg>\r\n          </div>\r\n        `;\r\n      case 'missed':\r\n        return html`\r\n          <div class=\"call-type-icon missed\" title=\"Missed call\">\r\n            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n              <path d=\"M19.23 15.26l-2.54-.29c-.61-.07-1.21.14-1.64.57l-1.84 1.84c-2.83-1.44-5.15-3.75-6.59-6.59l1.85-1.85c.43-.43.64-1.03.57-1.64l-.29-2.52c-.12-1.01-.97-1.77-1.99-1.77H5.03c-1.13 0-2.07.94-2 2.07.53 8.54 7.36 15.36 15.89 15.89 1.13.07 2.07-.87 2.07-2v-1.73c.01-1.01-.75-1.86-1.76-1.98z\"/>\r\n              <path d=\"M21.7 2.3L2.3 21.7 3.7 23.1 23.1 3.7z\"/>\r\n            </svg>\r\n          </div>\r\n        `;\r\n    }\r\n  }\r\n\r\n  private _handleClick() {\r\n    this.dispatchEvent(\r\n      new CustomEvent('call-item-clicked', {\r\n        detail: { call: this.call },\r\n        bubbles: true,\r\n        composed: true,\r\n      })\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const avatarColor = getAvatarColor(this.call.contactName);\r\n    const initials = getInitials(this.call.contactName);\r\n    const timeFormatted = formatCallTime(this.call.timestamp);\r\n    const duration = this.call.duration > 0 ? formatDuration(this.call.duration) : null;\r\n\r\n    return html`\r\n      <div class=\"call-item\" @click=${this._handleClick}>\r\n        <div class=\"avatar\" style=\"background-color: ${avatarColor}\">\r\n          ${initials}\r\n        </div>\r\n        <div class=\"call-info\">\r\n          <div class=\"call-header\">\r\n            <span class=\"contact-name\">${this.call.contactName}</span>\r\n            ${this._getCallTypeIcon()}\r\n            ${this.call.isBlocked ? html`<span class=\"blocked-badge\">Blocked</span>` : ''}\r\n          </div>\r\n          <div class=\"call-details\">\r\n            <span class=\"phone-number\">${this.call.phoneNumber}</span>\r\n            ${duration ? html`<span> ${duration}</span>` : ''}\r\n          </div>\r\n        </div>\r\n        <div class=\"call-time\">${timeFormatted}</div>\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    'tsuryphone-call-log-item': TsuryPhoneCallLogItem;\r\n  }\r\n}\r\n","import { LitElement, html, css } from 'lit';\r\nimport { customElement, property } from 'lit/decorators.js';\r\nimport { GroupedCallHistory } from '../../utils/call-history-grouping';\r\nimport './call-log-item';\r\n\r\n@customElement('tsuryphone-call-log-list')\r\nexport class TsuryPhoneCallLogList extends LitElement {\r\n  @property({ type: Array }) groupedCalls: GroupedCallHistory[] = [];\r\n  @property({ type: Boolean }) loading = false;\r\n\r\n  static styles = css`\r\n    :host {\r\n      display: block;\r\n    }\r\n\r\n    .call-log-list {\r\n      flex: 1;\r\n      overflow-y: auto;\r\n    }\r\n\r\n    .group {\r\n      margin-bottom: 16px;\r\n    }\r\n\r\n    .group-header {\r\n      position: sticky;\r\n      top: 0;\r\n      background: var(--card-background-color);\r\n      padding: 12px 16px;\r\n      font-size: 13px;\r\n      font-weight: 600;\r\n      color: var(--secondary-text-color);\r\n      text-transform: uppercase;\r\n      letter-spacing: 0.5px;\r\n      border-bottom: 1px solid var(--divider-color);\r\n      z-index: 1;\r\n    }\r\n\r\n    .divider {\r\n      height: 1px;\r\n      background: var(--divider-color);\r\n      margin: 0 16px;\r\n    }\r\n\r\n    .divider:last-child {\r\n      display: none;\r\n    }\r\n\r\n    .empty-state {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      justify-content: center;\r\n      padding: 64px 32px;\r\n      text-align: center;\r\n      color: var(--secondary-text-color);\r\n    }\r\n\r\n    .empty-icon {\r\n      font-size: 64px;\r\n      margin-bottom: 16px;\r\n      opacity: 0.5;\r\n    }\r\n\r\n    .empty-title {\r\n      font-size: 18px;\r\n      font-weight: 600;\r\n      margin-bottom: 8px;\r\n      color: var(--primary-text-color);\r\n    }\r\n\r\n    .empty-text {\r\n      font-size: 14px;\r\n      max-width: 300px;\r\n    }\r\n\r\n    .loading {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      padding: 64px 32px;\r\n      color: var(--secondary-text-color);\r\n    }\r\n\r\n    .spinner {\r\n      width: 40px;\r\n      height: 40px;\r\n      border: 3px solid var(--divider-color);\r\n      border-top-color: var(--primary-color);\r\n      border-radius: 50%;\r\n      animation: spin 1s linear infinite;\r\n    }\r\n\r\n    @keyframes spin {\r\n      to {\r\n        transform: rotate(360deg);\r\n      }\r\n    }\r\n  `;\r\n\r\n  render() {\r\n    if (this.loading) {\r\n      return html`\r\n        <div class=\"loading\">\r\n          <div class=\"spinner\"></div>\r\n        </div>\r\n      `;\r\n    }\r\n\r\n    if (this.groupedCalls.length === 0) {\r\n      return html`\r\n        <div class=\"empty-state\">\r\n          <div class=\"empty-icon\"></div>\r\n          <div class=\"empty-title\">No calls yet</div>\r\n          <div class=\"empty-text\">\r\n            Your call history will appear here once you start making or receiving calls.\r\n          </div>\r\n        </div>\r\n      `;\r\n    }\r\n\r\n    return html`\r\n      <div class=\"call-log-list\">\r\n        ${this.groupedCalls.map(\r\n          group => html`\r\n            <div class=\"group\">\r\n              <div class=\"group-header\">${group.groupLabel}</div>\r\n              ${group.calls.map(\r\n                (call, index) => html`\r\n                  <tsuryphone-call-log-item .call=${call}></tsuryphone-call-log-item>\r\n                  ${index < group.calls.length - 1 ? html`<div class=\"divider\"></div>` : ''}\r\n                `\r\n              )}\r\n            </div>\r\n          `\r\n        )}\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    'tsuryphone-call-log-list': TsuryPhoneCallLogList;\r\n  }\r\n}\r\n","import { LitElement, html, css } from 'lit';\r\nimport { customElement, property, state } from 'lit/decorators.js';\r\nimport { \r\n  CallHistoryEntry, \r\n  CallFilter, \r\n  filterCallHistory, \r\n  groupCallHistory,\r\n  getFrequentContacts \r\n} from '../../utils/call-history-grouping';\r\nimport './call-log-filters';\r\nimport './frequent-contacts';\r\nimport './call-log-list';\r\n\r\n@customElement('tsuryphone-home-view')\r\nexport class TsuryPhoneHomeView extends LitElement {\r\n  @property({ type: Array }) callHistory: CallHistoryEntry[] = [];\r\n  @property({ type: Boolean }) loading = false;\r\n\r\n  @state() private _activeFilter: CallFilter = 'all';\r\n\r\n  static styles = css`\r\n    :host {\r\n      display: flex;\r\n      flex-direction: column;\r\n      height: 100%;\r\n      background: var(--card-background-color);\r\n    }\r\n\r\n    .home-view {\r\n      display: flex;\r\n      flex-direction: column;\r\n      height: 100%;\r\n      overflow: hidden;\r\n    }\r\n\r\n    .scrollable-content {\r\n      flex: 1;\r\n      overflow-y: auto;\r\n      -webkit-overflow-scrolling: touch;\r\n    }\r\n\r\n    .divider {\r\n      height: 1px;\r\n      background: var(--divider-color);\r\n      margin: 0 16px;\r\n    }\r\n\r\n    /* Mobile optimizations */\r\n    @media (max-width: 599px) {\r\n      .home-view {\r\n        font-size: 14px;\r\n      }\r\n    }\r\n\r\n    /* Tablet */\r\n    @media (min-width: 600px) and (max-width: 1023px) {\r\n      .home-view {\r\n        max-width: 600px;\r\n        margin: 0 auto;\r\n      }\r\n    }\r\n\r\n    /* Desktop */\r\n    @media (min-width: 1024px) {\r\n      .home-view {\r\n        max-width: 800px;\r\n        margin: 0 auto;\r\n      }\r\n    }\r\n  `;\r\n\r\n  private _handleFilterChanged(e: CustomEvent) {\r\n    this._activeFilter = e.detail.filter;\r\n  }\r\n\r\n  private _handleContactClicked(e: CustomEvent) {\r\n    // Bubble up the event for parent to handle (e.g., open call modal)\r\n    this.dispatchEvent(\r\n      new CustomEvent('dial-contact', {\r\n        detail: e.detail,\r\n        bubbles: true,\r\n        composed: true,\r\n      })\r\n    );\r\n  }\r\n\r\n  private _handleCallItemClicked(e: CustomEvent) {\r\n    // Bubble up the event for parent to handle (e.g., open call details)\r\n    this.dispatchEvent(\r\n      new CustomEvent('call-details', {\r\n        detail: e.detail,\r\n        bubbles: true,\r\n        composed: true,\r\n      })\r\n    );\r\n  }\r\n\r\n  render() {\r\n    // Filter and group call history\r\n    const filteredCalls = filterCallHistory(this.callHistory, this._activeFilter);\r\n    const groupedCalls = groupCallHistory(filteredCalls);\r\n    \r\n    // Get frequent contacts (only from all calls, not filtered)\r\n    const frequentContacts = getFrequentContacts(this.callHistory, 6);\r\n    \r\n    // Show frequent contacts only if we have calls and filter is 'all'\r\n    const showFrequentContacts = this._activeFilter === 'all' && frequentContacts.length > 0;\r\n\r\n    return html`\r\n      <div class=\"home-view\">\r\n        <tsuryphone-call-log-filters\r\n          .activeFilter=${this._activeFilter}\r\n          @filter-changed=${this._handleFilterChanged}\r\n        ></tsuryphone-call-log-filters>\r\n\r\n        <div class=\"scrollable-content\">\r\n          ${showFrequentContacts\r\n            ? html`\r\n                <tsuryphone-frequent-contacts\r\n                  .contacts=${frequentContacts}\r\n                  @contact-clicked=${this._handleContactClicked}\r\n                ></tsuryphone-frequent-contacts>\r\n                <div class=\"divider\"></div>\r\n              `\r\n            : ''}\r\n\r\n          <tsuryphone-call-log-list\r\n            .groupedCalls=${groupedCalls}\r\n            .loading=${this.loading}\r\n            @call-item-clicked=${this._handleCallItemClicked}\r\n          ></tsuryphone-call-log-list>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    'tsuryphone-home-view': TsuryPhoneHomeView;\r\n  }\r\n}\r\n","/**\r\n * Entity Discovery Utilities\r\n * Discover related entities from a device without hardcoded naming patterns\r\n */\r\n\r\nimport { HomeAssistant, HassEntity } from \"../types/homeassistant\";\r\n\r\nexport interface DeviceEntities {\r\n  phoneState: string;\r\n  currentDialingNumber: string | null;\r\n  callHistory: string | null;\r\n  currentCallNumber: string | null;\r\n  // Add more as needed\r\n}\r\n\r\n/**\r\n * Get the device ID from an entity using WebSocket API\r\n */\r\nasync function getDeviceIdFromEntity(\r\n  hass: HomeAssistant,\r\n  entityId: string\r\n): Promise<string | null> {\r\n  try {\r\n    const entities = await hass.callWS<any[]>({\r\n      type: \"config/entity_registry/list\",\r\n    });\r\n\r\n    const entity = entities.find((e) => e.entity_id === entityId);\r\n    return entity?.device_id || null;\r\n  } catch (error) {\r\n    console.error(\"[EntityDiscovery] Failed to get device ID:\", error);\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Get all entities belonging to a device\r\n */\r\nasync function getDeviceEntities(\r\n  hass: HomeAssistant,\r\n  deviceId: string\r\n): Promise<string[]> {\r\n  try {\r\n    const entities = await hass.callWS<any[]>({\r\n      type: \"config/entity_registry/list\",\r\n    });\r\n\r\n    return entities\r\n      .filter((e) => e.device_id === deviceId)\r\n      .map((e) => e.entity_id);\r\n  } catch (error) {\r\n    console.error(\"[EntityDiscovery] Failed to get device entities:\", error);\r\n    return [];\r\n  }\r\n}\r\n\r\n/**\r\n * Discover all TsuryPhone entities from a single phone_state entity\r\n */\r\nexport async function discoverTsuryPhoneEntities(\r\n  hass: HomeAssistant,\r\n  phoneStateEntityId: string\r\n): Promise<DeviceEntities> {\r\n  console.log(\r\n    \"[EntityDiscovery] Discovering entities from:\",\r\n    phoneStateEntityId\r\n  );\r\n\r\n  // Get the device ID from the phone_state entity\r\n  const deviceId = await getDeviceIdFromEntity(hass, phoneStateEntityId);\r\n  if (!deviceId) {\r\n    console.error(\r\n      \"[EntityDiscovery] Could not find device ID for entity:\",\r\n      phoneStateEntityId\r\n    );\r\n    return {\r\n      phoneState: phoneStateEntityId,\r\n      currentDialingNumber: null,\r\n      callHistory: null,\r\n      currentCallNumber: null,\r\n    };\r\n  }\r\n\r\n  console.log(\"[EntityDiscovery] Found device ID:\", deviceId);\r\n\r\n  // Get all entities for this device\r\n  const allEntityIds = await getDeviceEntities(hass, deviceId);\r\n  console.log(\r\n    \"[EntityDiscovery] Device has\",\r\n    allEntityIds.length,\r\n    \"entities:\",\r\n    allEntityIds\r\n  );\r\n\r\n  // Find specific entities by matching patterns in entity_id\r\n  const result: DeviceEntities = {\r\n    phoneState: phoneStateEntityId,\r\n    currentDialingNumber:\r\n      allEntityIds.find((id) => id.includes(\"current_dialing_number\")) || null,\r\n    callHistory: allEntityIds.find((id) => id.includes(\"call_history\")) || null,\r\n    currentCallNumber:\r\n      allEntityIds.find((id) => id.includes(\"current_call_number\")) || null,\r\n  };\r\n\r\n  console.log(\"[EntityDiscovery] Discovered entities:\", result);\r\n\r\n  return result;\r\n}\r\n\r\n/**\r\n * Cache for discovered entities to avoid repeated WebSocket calls\r\n */\r\nconst entityCache = new Map<string, DeviceEntities>();\r\n\r\n/**\r\n * Get discovered entities with caching\r\n */\r\nexport async function getCachedTsuryPhoneEntities(\r\n  hass: HomeAssistant,\r\n  phoneStateEntityId: string\r\n): Promise<DeviceEntities> {\r\n  if (entityCache.has(phoneStateEntityId)) {\r\n    return entityCache.get(phoneStateEntityId)!;\r\n  }\r\n\r\n  const entities = await discoverTsuryPhoneEntities(hass, phoneStateEntityId);\r\n  entityCache.set(phoneStateEntityId, entities);\r\n  return entities;\r\n}\r\n\r\n/**\r\n * Clear the cache (call this if devices are added/removed)\r\n */\r\nexport function clearEntityCache(): void {\r\n  entityCache.clear();\r\n}\r\n","/**\r\n * Dialed Number Display Component\r\n * Shows the currently dialed number with backspace functionality\r\n */\r\n\r\nimport { LitElement, html, css, CSSResultGroup, TemplateResult } from 'lit';\r\nimport { customElement, property } from 'lit/decorators.js';\r\n\r\n@customElement('tsuryphone-dialed-number-display')\r\nexport class TsuryPhoneDialedNumberDisplay extends LitElement {\r\n  @property({ type: String }) dialedNumber = '';\r\n\r\n  static get styles(): CSSResultGroup {\r\n    return css`\r\n      :host {\r\n        display: block;\r\n      }\r\n\r\n      .display-container {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        min-height: 64px;\r\n        padding: 12px 16px;\r\n        background: var(--card-background-color);\r\n        border-bottom: 2px solid var(--divider-color);\r\n      }\r\n\r\n      .number-display {\r\n        flex: 1;\r\n        font-size: 32px;\r\n        font-weight: 300;\r\n        color: var(--primary-text-color);\r\n        letter-spacing: 2px;\r\n        text-align: center;\r\n        min-height: 40px;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        user-select: none;\r\n      }\r\n\r\n      .number-display.empty {\r\n        color: var(--secondary-text-color);\r\n        font-size: 18px;\r\n        font-weight: 400;\r\n        letter-spacing: normal;\r\n      }\r\n\r\n      .backspace-button {\r\n        width: 40px;\r\n        height: 40px;\r\n        border: none;\r\n        background: transparent;\r\n        cursor: pointer;\r\n        border-radius: 50%;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        transition: background 0.2s;\r\n        flex-shrink: 0;\r\n      }\r\n\r\n      .backspace-button:hover {\r\n        background: var(--secondary-background-color);\r\n      }\r\n\r\n      .backspace-button:active {\r\n        background: var(--divider-color);\r\n      }\r\n\r\n      .backspace-button:disabled {\r\n        opacity: 0.3;\r\n        cursor: not-allowed;\r\n      }\r\n\r\n      .backspace-button:disabled:hover {\r\n        background: transparent;\r\n      }\r\n\r\n      .backspace-icon {\r\n        width: 24px;\r\n        height: 24px;\r\n        fill: var(--primary-text-color);\r\n      }\r\n\r\n      .placeholder {\r\n        opacity: 0.5;\r\n      }\r\n    `;\r\n  }\r\n\r\n  private _handleBackspace(): void {\r\n    this.dispatchEvent(new CustomEvent('backspace', { bubbles: true, composed: true }));\r\n  }\r\n\r\n  private _handleLongPress(): void {\r\n    // Long press on backspace clears all\r\n    this.dispatchEvent(new CustomEvent('clear', { bubbles: true, composed: true }));\r\n  }\r\n\r\n  private _formatDialedNumber(number: string): string {\r\n    if (!number) return '';\r\n\r\n    // Format the number with spaces for readability\r\n    // Simple formatting: add space every 3 digits (can be enhanced)\r\n    let formatted = '';\r\n    for (let i = 0; i < number.length; i++) {\r\n      if (i > 0 && i % 3 === 0) {\r\n        formatted += ' ';\r\n      }\r\n      formatted += number[i];\r\n    }\r\n    return formatted;\r\n  }\r\n\r\n  protected render(): TemplateResult {\r\n    const hasNumber = this.dialedNumber.length > 0;\r\n    const formattedNumber = this._formatDialedNumber(this.dialedNumber);\r\n\r\n    return html`\r\n      <div class=\"display-container\">\r\n        <div class=\"number-display ${!hasNumber ? 'empty' : ''}\">\r\n          ${hasNumber\r\n            ? formattedNumber\r\n            : html`<span class=\"placeholder\">Enter number</span>`}\r\n        </div>\r\n        <button\r\n          class=\"backspace-button\"\r\n          @click=${this._handleBackspace}\r\n          @contextmenu=${(e: Event) => {\r\n            e.preventDefault();\r\n            this._handleLongPress();\r\n          }}\r\n          ?disabled=${!hasNumber}\r\n          aria-label=\"Backspace\"\r\n          title=\"Click to delete, right-click to clear all\"\r\n        >\r\n          <svg class=\"backspace-icon\" viewBox=\"0 0 24 24\">\r\n            <path d=\"M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H7.07L2.4 12l4.66-7H22v14zm-11.59-2L14 13.41 17.59 17 19 15.59 15.41 12 19 8.41 17.59 7 14 10.59 10.41 7 9 8.41 12.59 12 9 15.59z\"/>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    'tsuryphone-dialed-number-display': TsuryPhoneDialedNumberDisplay;\r\n  }\r\n}\r\n","/**\r\n * Keypad Grid Component\r\n * 3x4 grid of number buttons with *, 0, # on bottom row\r\n */\r\n\r\nimport { LitElement, html, css, CSSResultGroup, TemplateResult } from 'lit';\r\nimport { customElement } from 'lit/decorators.js';\r\n\r\ninterface KeypadButton {\r\n  digit: string;\r\n  letters?: string;\r\n  longPressDigit?: string;\r\n}\r\n\r\n@customElement('tsuryphone-keypad-grid')\r\nexport class TsuryPhoneKeypadGrid extends LitElement {\r\n  private _longPressTimer: number | null = null;\r\n  private _longPressTriggered = false;\r\n\r\n  private readonly _buttons: KeypadButton[] = [\r\n    { digit: '1', letters: '' },\r\n    { digit: '2', letters: 'ABC' },\r\n    { digit: '3', letters: 'DEF' },\r\n    { digit: '4', letters: 'GHI' },\r\n    { digit: '5', letters: 'JKL' },\r\n    { digit: '6', letters: 'MNO' },\r\n    { digit: '7', letters: 'PQRS' },\r\n    { digit: '8', letters: 'TUV' },\r\n    { digit: '9', letters: 'WXYZ' },\r\n    { digit: '*', letters: '' },\r\n    { digit: '0', letters: '+', longPressDigit: '+' },\r\n    { digit: '#', letters: '' },\r\n  ];\r\n\r\n  static get styles(): CSSResultGroup {\r\n    return css`\r\n      :host {\r\n        display: block;\r\n      }\r\n\r\n      .keypad-grid {\r\n        display: grid;\r\n        grid-template-columns: repeat(3, 1fr);\r\n        gap: 12px;\r\n        max-width: 320px;\r\n        margin: 0 auto;\r\n        padding: 16px;\r\n      }\r\n\r\n      .keypad-button {\r\n        aspect-ratio: 1;\r\n        border: none;\r\n        background: var(--card-background-color);\r\n        border-radius: 50%;\r\n        cursor: pointer;\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        justify-content: center;\r\n        font-size: 28px;\r\n        font-weight: 300;\r\n        color: var(--primary-text-color);\r\n        transition: background 0.15s, transform 0.1s;\r\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n        user-select: none;\r\n        -webkit-tap-highlight-color: transparent;\r\n        position: relative;\r\n        min-height: 72px;\r\n      }\r\n\r\n      .keypad-button:hover {\r\n        background: var(--secondary-background-color);\r\n      }\r\n\r\n      .keypad-button:active {\r\n        transform: scale(0.95);\r\n        background: var(--divider-color);\r\n      }\r\n\r\n      .keypad-button.long-press-active {\r\n        background: var(--primary-color);\r\n        color: var(--text-primary-color);\r\n      }\r\n\r\n      .digit {\r\n        font-size: 32px;\r\n        font-weight: 400;\r\n        line-height: 1;\r\n      }\r\n\r\n      .letters {\r\n        font-size: 10px;\r\n        font-weight: 500;\r\n        letter-spacing: 1px;\r\n        margin-top: 4px;\r\n        opacity: 0.6;\r\n        text-transform: uppercase;\r\n      }\r\n\r\n      .long-press-hint {\r\n        position: absolute;\r\n        top: 4px;\r\n        right: 4px;\r\n        font-size: 12px;\r\n        opacity: 0.5;\r\n      }\r\n\r\n      @media (max-width: 400px) {\r\n        .keypad-grid {\r\n          gap: 8px;\r\n          padding: 12px;\r\n        }\r\n\r\n        .keypad-button {\r\n          min-height: 64px;\r\n        }\r\n\r\n        .digit {\r\n          font-size: 28px;\r\n        }\r\n      }\r\n    `;\r\n  }\r\n\r\n  private _handlePointerDown(button: KeypadButton): void {\r\n    this._longPressTriggered = false;\r\n\r\n    // Start long press timer if button supports it\r\n    if (button.longPressDigit) {\r\n      this._longPressTimer = window.setTimeout(() => {\r\n        this._longPressTriggered = true;\r\n        this._emitDigit(button.longPressDigit!);\r\n        this._triggerHaptic('medium');\r\n      }, 500);\r\n    }\r\n  }\r\n\r\n  private _handlePointerUp(button: KeypadButton): void {\r\n    // Clear long press timer\r\n    if (this._longPressTimer) {\r\n      clearTimeout(this._longPressTimer);\r\n      this._longPressTimer = null;\r\n    }\r\n\r\n    // If long press was triggered, don't emit the regular digit\r\n    if (this._longPressTriggered) {\r\n      this._longPressTriggered = false;\r\n      return;\r\n    }\r\n\r\n    // Emit the regular digit\r\n    this._emitDigit(button.digit);\r\n    this._triggerHaptic('light');\r\n  }\r\n\r\n  private _handlePointerCancel(): void {\r\n    // Clear long press timer if pointer is cancelled (e.g., scrolling)\r\n    if (this._longPressTimer) {\r\n      clearTimeout(this._longPressTimer);\r\n      this._longPressTimer = null;\r\n    }\r\n    this._longPressTriggered = false;\r\n  }\r\n\r\n  private _emitDigit(digit: string): void {\r\n    this.dispatchEvent(\r\n      new CustomEvent('digit-press', {\r\n        detail: { digit },\r\n        bubbles: true,\r\n        composed: true,\r\n      })\r\n    );\r\n  }\r\n\r\n  private _triggerHaptic(type: 'light' | 'medium'): void {\r\n    if (!navigator.vibrate) return;\r\n\r\n    const durations = {\r\n      light: 10,\r\n      medium: 20,\r\n    };\r\n\r\n    navigator.vibrate(durations[type]);\r\n  }\r\n\r\n  protected render(): TemplateResult {\r\n    return html`\r\n      <div class=\"keypad-grid\">\r\n        ${this._buttons.map(\r\n          (button) => html`\r\n            <button\r\n              class=\"keypad-button\"\r\n              @pointerdown=${() => this._handlePointerDown(button)}\r\n              @pointerup=${() => this._handlePointerUp(button)}\r\n              @pointercancel=${() => this._handlePointerCancel()}\r\n              aria-label=\"${button.digit}${button.letters ? ` ${button.letters}` : ''}\"\r\n              title=\"${button.longPressDigit ? `Long press for ${button.longPressDigit}` : ''}\"\r\n            >\r\n              <span class=\"digit\">${button.digit}</span>\r\n              ${button.letters\r\n                ? html`<span class=\"letters\">${button.letters}</span>`\r\n                : ''}\r\n              ${button.longPressDigit && button.longPressDigit !== button.letters\r\n                ? html`<span class=\"long-press-hint\">${button.longPressDigit}</span>`\r\n                : ''}\r\n            </button>\r\n          `\r\n        )}\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    'tsuryphone-keypad-grid': TsuryPhoneKeypadGrid;\r\n  }\r\n}\r\n","/**\r\n * Keypad View Component\r\n * Main container for the dialing keypad\r\n */\r\n\r\nimport { LitElement, html, css, CSSResultGroup, TemplateResult } from \"lit\";\r\nimport { customElement, property, state } from \"lit/decorators.js\";\r\nimport { HomeAssistant } from \"../../types/homeassistant\";\r\nimport { TsuryPhoneCardConfig } from \"../../types/tsuryphone\";\r\nimport {\r\n  getCachedTsuryPhoneEntities,\r\n  DeviceEntities,\r\n} from \"../../utils/entity-discovery\";\r\nimport \"./dialed-number-display\";\r\nimport \"./keypad-grid\";\r\n\r\n@customElement(\"tsuryphone-keypad-view\")\r\nexport class TsuryPhoneKeypadView extends LitElement {\r\n  @property({ attribute: false }) hass!: HomeAssistant;\r\n  @property({ attribute: false }) config!: TsuryPhoneCardConfig;\r\n\r\n  // Discovered entities (populated asynchronously)\r\n  @state() private _entities: DeviceEntities | null = null;\r\n\r\n  protected async firstUpdated(): Promise<void> {\r\n    // Discover all entities from the device on first load\r\n    const phoneStateEntityId = this._getPhoneStateEntityId();\r\n    this._entities = await getCachedTsuryPhoneEntities(\r\n      this.hass,\r\n      phoneStateEntityId\r\n    );\r\n    console.log(\"[KeypadView] Entities discovered:\", this._entities);\r\n    this.requestUpdate(); // Trigger re-render with discovered entities\r\n  }\r\n\r\n  protected shouldUpdate(changedProps: Map<string, any>): boolean {\r\n    if (changedProps.has(\"hass\") && this._entities?.currentDialingNumber) {\r\n      const oldHass = changedProps.get(\"hass\") as HomeAssistant;\r\n      if (oldHass) {\r\n        const entityId = this._entities.currentDialingNumber;\r\n        const oldState = oldHass.states[entityId]?.state;\r\n        const newState = this.hass.states[entityId]?.state;\r\n\r\n        console.log(\"[KeypadView] shouldUpdate check:\", {\r\n          entityId,\r\n          oldState,\r\n          newState,\r\n          changed: oldState !== newState,\r\n        });\r\n\r\n        // Force update if the dialing number changed\r\n        if (oldState !== newState) {\r\n          console.log(\"[KeypadView] Forcing update due to state change\");\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return super.shouldUpdate(changedProps);\r\n  }\r\n\r\n  static get styles(): CSSResultGroup {\r\n    return css`\r\n      :host {\r\n        display: flex;\r\n        flex-direction: column;\r\n        height: 100%;\r\n        background: var(--card-background-color);\r\n        padding: 16px;\r\n        box-sizing: border-box;\r\n      }\r\n\r\n      .keypad-container {\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: space-between;\r\n        height: 100%;\r\n        max-width: 400px;\r\n        margin: 0 auto;\r\n        width: 100%;\r\n      }\r\n\r\n      .display-section {\r\n        flex: 0 0 auto;\r\n        margin-bottom: 24px;\r\n      }\r\n\r\n      .keypad-section {\r\n        flex: 1 1 auto;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n      }\r\n\r\n      .call-button-section {\r\n        flex: 0 0 auto;\r\n        margin-top: 24px;\r\n        padding: 0 16px;\r\n      }\r\n\r\n      .call-button {\r\n        width: 64px;\r\n        height: 64px;\r\n        border-radius: 50%;\r\n        background: var(--success-color, #4caf50);\r\n        border: none;\r\n        cursor: pointer;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        margin: 0 auto;\r\n        transition:\r\n          transform 0.1s,\r\n          box-shadow 0.2s;\r\n        box-shadow: 0 2px 8px rgba(76, 175, 80, 0.3);\r\n      }\r\n\r\n      .call-button:hover {\r\n        transform: scale(1.05);\r\n        box-shadow: 0 4px 12px rgba(76, 175, 80, 0.4);\r\n      }\r\n\r\n      .call-button:active {\r\n        transform: scale(0.95);\r\n      }\r\n\r\n      .call-button:disabled {\r\n        background: var(--disabled-color, #9e9e9e);\r\n        cursor: not-allowed;\r\n        box-shadow: none;\r\n      }\r\n\r\n      .call-button:disabled:hover {\r\n        transform: none;\r\n      }\r\n\r\n      .call-icon {\r\n        width: 32px;\r\n        height: 32px;\r\n        fill: white;\r\n      }\r\n    `;\r\n  }\r\n\r\n  private async _handleDigitPress(digit: string): Promise<void> {\r\n    this._triggerHaptic(\"light\");\r\n\r\n    console.log(\r\n      \"[KeypadView] Dialing digit:\",\r\n      digit,\r\n      \"to entity:\",\r\n      this._getPhoneStateEntityId()\r\n    );\r\n\r\n    try {\r\n      // Send digit to backend - no optimistic update\r\n      await this.hass.callService(\r\n        \"tsuryphone\",\r\n        \"dial_digit\",\r\n        {\r\n          digit: parseInt(digit, 10),\r\n        },\r\n        {\r\n          entity_id: this._getPhoneStateEntityId(),\r\n        }\r\n      );\r\n      console.log(\"[KeypadView] Digit dialed successfully\");\r\n    } catch (error) {\r\n      console.error(\"Failed to dial digit:\", error);\r\n      this._triggerHaptic(\"heavy\");\r\n    }\r\n  }\r\n\r\n  private async _handleBackspace(): Promise<void> {\r\n    const currentNumber = this._getCurrentDialingNumber();\r\n    if (!currentNumber) return;\r\n\r\n    try {\r\n      // Request delete from backend - no optimistic update\r\n      await this.hass.callService(\r\n        \"tsuryphone\",\r\n        \"delete_last_digit\",\r\n        {},\r\n        {\r\n          entity_id: this._getPhoneStateEntityId(),\r\n        }\r\n      );\r\n\r\n      this._triggerHaptic(\"light\");\r\n    } catch (err) {\r\n      console.error(\"Failed to delete last digit:\", err);\r\n      this._triggerHaptic(\"heavy\");\r\n    }\r\n  }\r\n\r\n  private _handleClear(): void {\r\n    // Clear is just deleting all digits - let user delete one by one\r\n    this._triggerHaptic(\"light\");\r\n  }\r\n\r\n  private async _handleCall(): Promise<void> {\r\n    if (!this._canCall()) return;\r\n\r\n    const numberToDial =\r\n      this._getCurrentDialingNumber() || this._getLastCalledNumber();\r\n    if (!numberToDial) return;\r\n\r\n    this._triggerHaptic(\"medium\");\r\n\r\n    try {\r\n      // Call the dial service\r\n      await this.hass.callService(\r\n        \"tsuryphone\",\r\n        \"dial\",\r\n        {\r\n          number: numberToDial,\r\n        },\r\n        {\r\n          entity_id: this._getPhoneStateEntityId(),\r\n        }\r\n      );\r\n\r\n      // The backend will clear the dialing number after successful dial\r\n    } catch (error) {\r\n      console.error(\"Failed to dial number:\", error);\r\n      this._triggerHaptic(\"heavy\");\r\n    }\r\n  }\r\n\r\n  private _canCall(): boolean {\r\n    // Can call if we have a dialed number OR we have call history to redial\r\n    return !!this._getCurrentDialingNumber() || !!this._getLastCalledNumber();\r\n  }\r\n\r\n  private _getCurrentDialingNumber(): string {\r\n    // Use discovered entity if available\r\n    if (!this._entities?.currentDialingNumber) {\r\n      console.log(\r\n        \"[KeypadView] _getCurrentDialingNumber: Entity not yet discovered\"\r\n      );\r\n      return \"\";\r\n    }\r\n\r\n    const entityId = this._entities.currentDialingNumber;\r\n    const entity = this.hass?.states[entityId];\r\n    const result =\r\n      entity?.state && entity.state !== \"unknown\" ? entity.state : \"\";\r\n\r\n    console.log(\"[KeypadView] _getCurrentDialingNumber:\", {\r\n      entityId,\r\n      entityState: entity?.state,\r\n      result,\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  private _getPhoneStateEntityId(): string {\r\n    const deviceId = this.config?.device_id || \"tsuryphone\";\r\n\r\n    if (this.config?.entity) {\r\n      return this.config.entity.startsWith(\"sensor.\")\r\n        ? this.config.entity\r\n        : `sensor.${this.config.entity}`;\r\n    }\r\n\r\n    return `sensor.${deviceId}_phone_state`;\r\n  }\r\n\r\n  private _getLastCalledNumber(): string | null {\r\n    const phoneStateEntityId = this._getPhoneStateEntityId();\r\n    const phoneState = this.hass?.states[phoneStateEntityId];\r\n    const callHistory = phoneState?.attributes?.call_log || [];\r\n\r\n    if (callHistory.length === 0) return null;\r\n\r\n    // Get the most recent call\r\n    const lastCall = callHistory[0];\r\n    return lastCall.number || null;\r\n  }\r\n\r\n  private _triggerHaptic(type: \"light\" | \"medium\" | \"heavy\"): void {\r\n    if (!navigator.vibrate) return;\r\n\r\n    const durations = {\r\n      light: 10,\r\n      medium: 20,\r\n      heavy: 30,\r\n    };\r\n\r\n    navigator.vibrate(durations[type]);\r\n  }\r\n\r\n  protected render(): TemplateResult {\r\n    const dialedNumber = this._getCurrentDialingNumber();\r\n\r\n    return html`\r\n      <div class=\"keypad-container\">\r\n        <div class=\"display-section\">\r\n          <tsuryphone-dialed-number-display\r\n            .dialedNumber=${dialedNumber}\r\n            @backspace=${this._handleBackspace}\r\n            @clear=${this._handleClear}\r\n          ></tsuryphone-dialed-number-display>\r\n        </div>\r\n\r\n        <div class=\"keypad-section\">\r\n          <tsuryphone-keypad-grid\r\n            @digit-press=${(e: CustomEvent) =>\r\n              this._handleDigitPress(e.detail.digit)}\r\n          ></tsuryphone-keypad-grid>\r\n        </div>\r\n\r\n        <div class=\"call-button-section\">\r\n          <button\r\n            class=\"call-button\"\r\n            @click=${this._handleCall}\r\n            ?disabled=${!this._canCall()}\r\n            aria-label=\"Call\"\r\n          >\r\n            <svg class=\"call-icon\" viewBox=\"0 0 24 24\">\r\n              <path\r\n                d=\"M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z\"\r\n              />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    \"tsuryphone-keypad-view\": TsuryPhoneKeypadView;\r\n  }\r\n}\r\n","/**\r\n * Shared Styles\r\n * Reusable CSS patterns for TsuryPhone components\r\n */\r\n\r\nimport { css } from \"lit\";\r\n\r\n/**\r\n * Common avatar styles\r\n */\r\nexport const avatarStyles = css`\r\n  .avatar {\r\n    width: 40px;\r\n    height: 40px;\r\n    border-radius: 50%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    font-weight: 500;\r\n    font-size: 16px;\r\n    color: white;\r\n    flex-shrink: 0;\r\n  }\r\n\r\n  .avatar.large {\r\n    width: 56px;\r\n    height: 56px;\r\n    font-size: 24px;\r\n  }\r\n\r\n  .avatar.small {\r\n    width: 32px;\r\n    height: 32px;\r\n    font-size: 14px;\r\n  }\r\n`;\r\n\r\n/**\r\n * Common list item styles\r\n */\r\nexport const listItemStyles = css`\r\n  .list-item {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 12px 16px;\r\n    gap: 12px;\r\n    background: var(--card-background-color, #fff);\r\n    border-bottom: 1px solid var(--divider-color, #e0e0e0);\r\n    cursor: pointer;\r\n    transition: background-color 0.2s;\r\n  }\r\n\r\n  .list-item:hover {\r\n    background: var(--secondary-background-color, #f5f5f5);\r\n  }\r\n\r\n  .list-item:active {\r\n    background: var(--divider-color, #e0e0e0);\r\n  }\r\n\r\n  .list-item-content {\r\n    flex: 1;\r\n    min-width: 0;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 4px;\r\n  }\r\n\r\n  .list-item-title {\r\n    font-size: 16px;\r\n    font-weight: 500;\r\n    color: var(--primary-text-color, #000);\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n  }\r\n\r\n  .list-item-subtitle {\r\n    font-size: 14px;\r\n    color: var(--secondary-text-color, #666);\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n  }\r\n\r\n  .list-item-actions {\r\n    display: flex;\r\n    gap: 8px;\r\n    align-items: center;\r\n  }\r\n`;\r\n\r\n/**\r\n * Common button styles\r\n */\r\nexport const buttonStyles = css`\r\n  .action-button {\r\n    padding: 8px 16px;\r\n    border-radius: 8px;\r\n    border: none;\r\n    background: var(--primary-color, #03a9f4);\r\n    color: white;\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    cursor: pointer;\r\n    display: inline-flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n    transition: all 0.2s;\r\n  }\r\n\r\n  .action-button:hover {\r\n    background: var(--dark-primary-color, #0288d1);\r\n    transform: scale(1.02);\r\n  }\r\n\r\n  .action-button:active {\r\n    transform: scale(0.98);\r\n  }\r\n\r\n  .action-button:disabled {\r\n    background: var(--disabled-color, #9e9e9e);\r\n    cursor: not-allowed;\r\n  }\r\n\r\n  .action-button.secondary {\r\n    background: var(--secondary-background-color, #f5f5f5);\r\n    color: var(--primary-text-color, #000);\r\n  }\r\n\r\n  .action-button.danger {\r\n    background: var(--error-color, #f44336);\r\n  }\r\n\r\n  .icon-button {\r\n    width: 40px;\r\n    height: 40px;\r\n    border-radius: 50%;\r\n    border: none;\r\n    background: transparent;\r\n    color: var(--secondary-text-color, #666);\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    transition: all 0.2s;\r\n  }\r\n\r\n  .icon-button:hover {\r\n    background: var(--secondary-background-color, #f5f5f5);\r\n  }\r\n\r\n  .icon-button:active {\r\n    background: var(--divider-color, #e0e0e0);\r\n    transform: scale(0.95);\r\n  }\r\n`;\r\n\r\n/**\r\n * Common modal styles\r\n */\r\nexport const modalStyles = css`\r\n  .modal-overlay {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: rgba(0, 0, 0, 0.5);\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    z-index: 1000;\r\n    padding: 16px;\r\n  }\r\n\r\n  .modal {\r\n    background: var(--card-background-color, #fff);\r\n    border-radius: 16px;\r\n    max-width: 500px;\r\n    width: 100%;\r\n    max-height: 80vh;\r\n    display: flex;\r\n    flex-direction: column;\r\n    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);\r\n  }\r\n\r\n  .modal-header {\r\n    padding: 20px 24px;\r\n    border-bottom: 1px solid var(--divider-color, #e0e0e0);\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  .modal-title {\r\n    font-size: 20px;\r\n    font-weight: 500;\r\n    color: var(--primary-text-color, #000);\r\n  }\r\n\r\n  .modal-body {\r\n    padding: 24px;\r\n    overflow-y: auto;\r\n    flex: 1;\r\n  }\r\n\r\n  .modal-footer {\r\n    padding: 16px 24px;\r\n    border-top: 1px solid var(--divider-color, #e0e0e0);\r\n    display: flex;\r\n    gap: 12px;\r\n    justify-content: flex-end;\r\n  }\r\n`;\r\n\r\n/**\r\n * Common form styles\r\n */\r\nexport const formStyles = css`\r\n  .form-field {\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  .form-label {\r\n    display: block;\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    color: var(--primary-text-color, #000);\r\n    margin-bottom: 8px;\r\n  }\r\n\r\n  .form-input {\r\n    width: 100%;\r\n    padding: 12px 16px;\r\n    border: 1px solid var(--divider-color, #e0e0e0);\r\n    border-radius: 8px;\r\n    font-size: 16px;\r\n    font-family: inherit;\r\n    color: var(--primary-text-color, #000);\r\n    background: var(--card-background-color, #fff);\r\n    box-sizing: border-box;\r\n    transition: border-color 0.2s;\r\n  }\r\n\r\n  .form-input:focus {\r\n    outline: none;\r\n    border-color: var(--primary-color, #03a9f4);\r\n  }\r\n\r\n  .form-input::placeholder {\r\n    color: var(--secondary-text-color, #666);\r\n  }\r\n\r\n  .form-helper {\r\n    font-size: 12px;\r\n    color: var(--secondary-text-color, #666);\r\n    margin-top: 4px;\r\n  }\r\n\r\n  .form-error {\r\n    font-size: 12px;\r\n    color: var(--error-color, #f44336);\r\n    margin-top: 4px;\r\n  }\r\n`;\r\n\r\n/**\r\n * Common empty state styles\r\n */\r\nexport const emptyStateStyles = css`\r\n  .empty-state {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 48px 24px;\r\n    text-align: center;\r\n  }\r\n\r\n  .empty-state-icon {\r\n    width: 64px;\r\n    height: 64px;\r\n    color: var(--secondary-text-color, #666);\r\n    margin-bottom: 16px;\r\n    opacity: 0.5;\r\n  }\r\n\r\n  .empty-state-title {\r\n    font-size: 18px;\r\n    font-weight: 500;\r\n    color: var(--primary-text-color, #000);\r\n    margin-bottom: 8px;\r\n  }\r\n\r\n  .empty-state-message {\r\n    font-size: 14px;\r\n    color: var(--secondary-text-color, #666);\r\n    margin-bottom: 24px;\r\n  }\r\n`;\r\n","/**\r\n * Empty State Component\r\n * Reusable empty state message\r\n */\r\n\r\nimport { LitElement, html, css, CSSResultGroup, TemplateResult } from \"lit\";\r\nimport { customElement, property } from \"lit/decorators.js\";\r\nimport { emptyStateStyles } from \"../../styles/shared-styles\";\r\n\r\n@customElement(\"tsuryphone-empty-state\")\r\nexport class TsuryPhoneEmptyState extends LitElement {\r\n  @property({ type: String }) icon = \"mdi:alert-circle-outline\";\r\n  @property({ type: String }) title = \"No items\";\r\n  @property({ type: String }) message = \"\";\r\n  @property({ type: String }) actionLabel?: string;\r\n  @property({ type: Function }) onAction?: () => void;\r\n\r\n  static get styles(): CSSResultGroup {\r\n    return [\r\n      emptyStateStyles,\r\n      css`\r\n        :host {\r\n          display: block;\r\n        }\r\n      `,\r\n    ];\r\n  }\r\n\r\n  private _handleAction(): void {\r\n    if (this.onAction) {\r\n      this.onAction();\r\n    }\r\n    this.dispatchEvent(new CustomEvent(\"action\", { bubbles: true, composed: true }));\r\n  }\r\n\r\n  protected render(): TemplateResult {\r\n    return html`\r\n      <div class=\"empty-state\">\r\n        <ha-icon class=\"empty-state-icon\" .icon=${this.icon}></ha-icon>\r\n        <div class=\"empty-state-title\">${this.title}</div>\r\n        ${this.message\r\n          ? html`<div class=\"empty-state-message\">${this.message}</div>`\r\n          : \"\"}\r\n        ${this.actionLabel\r\n          ? html`\r\n              <button class=\"action-button\" @click=${this._handleAction}>\r\n                ${this.actionLabel}\r\n              </button>\r\n            `\r\n          : \"\"}\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    \"tsuryphone-empty-state\": TsuryPhoneEmptyState;\r\n  }\r\n}\r\n","/**\r\n * Formatting Utilities\r\n * Reusable formatters for phone numbers, dates, durations\r\n */\r\n\r\n/**\r\n * Format phone number for display\r\n */\r\nexport function formatPhoneNumber(number: string): string {\r\n  if (!number) return \"\";\r\n\r\n  // Remove non-digit characters\r\n  const digits = number.replace(/\\D/g, \"\");\r\n\r\n  // Format based on length\r\n  if (digits.length === 10) {\r\n    // US format: (555) 123-4567\r\n    return `(${digits.slice(0, 3)}) ${digits.slice(3, 6)}-${digits.slice(6)}`;\r\n  } else if (digits.length === 11 && digits[0] === \"1\") {\r\n    // US format with country code: +1 (555) 123-4567\r\n    return `+1 (${digits.slice(1, 4)}) ${digits.slice(4, 7)}-${digits.slice(7)}`;\r\n  } else if (digits.length > 11) {\r\n    // International format: +XX XXX XXX XXXX\r\n    return `+${digits.slice(0, 2)} ${digits.slice(2, 5)} ${digits.slice(5, 8)} ${digits.slice(8)}`;\r\n  }\r\n\r\n  // Default: return as-is\r\n  return number;\r\n}\r\n\r\n/**\r\n * Format duration in seconds to human-readable string\r\n */\r\nexport function formatDuration(seconds: number | null): string {\r\n  if (seconds === null || seconds === 0) return \"0s\";\r\n\r\n  const hours = Math.floor(seconds / 3600);\r\n  const minutes = Math.floor((seconds % 3600) / 60);\r\n  const secs = seconds % 60;\r\n\r\n  if (hours > 0) {\r\n    return `${hours}h ${minutes}m`;\r\n  } else if (minutes > 0) {\r\n    return `${minutes}m ${secs}s`;\r\n  } else {\r\n    return `${secs}s`;\r\n  }\r\n}\r\n\r\n/**\r\n * Format timestamp to relative time (e.g., \"2 min ago\", \"Yesterday\")\r\n */\r\nexport function formatRelativeTime(timestamp: number): string {\r\n  const now = Date.now();\r\n  const date = new Date(timestamp * 1000);\r\n  const diffMs = now - date.getTime();\r\n  const diffSec = Math.floor(diffMs / 1000);\r\n  const diffMin = Math.floor(diffSec / 60);\r\n  const diffHour = Math.floor(diffMin / 60);\r\n  const diffDay = Math.floor(diffHour / 24);\r\n\r\n  if (diffMin < 1) return \"Just now\";\r\n  if (diffMin < 60) return `${diffMin} min ago`;\r\n  if (diffHour < 24) return `${diffHour} hour${diffHour > 1 ? \"s\" : \"\"} ago`;\r\n  if (diffDay === 1) return \"Yesterday\";\r\n  if (diffDay < 7) return `${diffDay} days ago`;\r\n\r\n  // Format as date\r\n  return date.toLocaleDateString(undefined, {\r\n    month: \"short\",\r\n    day: \"numeric\",\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n  });\r\n}\r\n\r\n/**\r\n * Format time for call log (e.g., \"14:30\", \"Yesterday 09:15\")\r\n */\r\nexport function formatCallTime(timestamp: number): string {\r\n  const now = Date.now();\r\n  const date = new Date(timestamp * 1000);\r\n  const diffMs = now - date.getTime();\r\n  const diffHours = Math.floor(diffMs / (1000 * 60 * 60));\r\n\r\n  const timeStr = date.toLocaleTimeString(undefined, {\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n    hour12: false,\r\n  });\r\n\r\n  if (diffHours < 24) {\r\n    // Today - show only time\r\n    return timeStr;\r\n  } else if (diffHours < 48) {\r\n    // Yesterday\r\n    return `Yesterday ${timeStr}`;\r\n  } else if (diffHours < 168) {\r\n    // This week - show day name\r\n    return date.toLocaleDateString(undefined, {\r\n      weekday: \"short\",\r\n      hour: \"2-digit\",\r\n      minute: \"2-digit\",\r\n      hour12: false,\r\n    });\r\n  } else {\r\n    // Older - show date\r\n    return date.toLocaleDateString(undefined, {\r\n      month: \"short\",\r\n      day: \"numeric\",\r\n      hour: \"2-digit\",\r\n      minute: \"2-digit\",\r\n      hour12: false,\r\n    });\r\n  }\r\n}\r\n\r\n/**\r\n * Generate consistent color from string (for avatars)\r\n */\r\nexport function generateColor(input: string): string {\r\n  if (!input) return \"hsl(200, 50%, 70%)\"; // Default color\r\n\r\n  let hash = 0;\r\n  for (let i = 0; i < input.length; i++) {\r\n    hash = input.charCodeAt(i) + ((hash << 5) - hash);\r\n  }\r\n\r\n  const hue = Math.abs(hash % 360);\r\n  return `hsl(${hue}, 50%, 70%)`; // Pastel colors\r\n}\r\n\r\n/**\r\n * Get first letter of name for avatar\r\n */\r\nexport function getAvatarLetter(name: string): string {\r\n  if (!name) return \"?\";\r\n  return name.trim()[0].toUpperCase();\r\n}\r\n","/**\r\n * Haptic Feedback Utility\r\n * Centralized haptic feedback using browser Vibration API\r\n */\r\n\r\nexport type HapticIntensity = \"light\" | \"medium\" | \"heavy\";\r\n\r\nconst HAPTIC_PATTERNS: Record<HapticIntensity, number> = {\r\n  light: 10,\r\n  medium: 20,\r\n  heavy: 30,\r\n};\r\n\r\n/**\r\n * Trigger haptic feedback if supported\r\n */\r\nexport function triggerHaptic(intensity: HapticIntensity = \"light\"): void {\r\n  if (\"vibrate\" in navigator) {\r\n    navigator.vibrate(HAPTIC_PATTERNS[intensity]);\r\n  }\r\n}\r\n\r\n/**\r\n * Check if haptic feedback is supported\r\n */\r\nexport function isHapticSupported(): boolean {\r\n  return \"vibrate\" in navigator;\r\n}\r\n","/**\r\n * Avatar Circle Component\r\n * Reusable avatar with letter and color\r\n */\r\n\r\nimport { LitElement, html, css, CSSResultGroup } from \"lit\";\r\nimport { customElement, property } from \"lit/decorators.js\";\r\nimport { generateColor, getAvatarLetter } from \"../../utils/formatters\";\r\nimport { avatarStyles } from \"../../styles/shared-styles\";\r\n\r\n@customElement(\"tsuryphone-avatar\")\r\nexport class TsuryPhoneAvatar extends LitElement {\r\n  @property({ type: String }) name = \"\";\r\n  @property({ type: String }) size: \"small\" | \"medium\" | \"large\" = \"medium\";\r\n  @property({ type: String }) color?: string;\r\n\r\n  static get styles(): CSSResultGroup {\r\n    return [\r\n      avatarStyles,\r\n      css`\r\n        :host {\r\n          display: inline-block;\r\n        }\r\n      `,\r\n    ];\r\n  }\r\n\r\n  protected render() {\r\n    const letter = getAvatarLetter(this.name);\r\n    const backgroundColor = this.color || generateColor(this.name);\r\n    const sizeClass = this.size === \"medium\" ? \"\" : this.size;\r\n\r\n    return html`\r\n      <div\r\n        class=\"avatar ${sizeClass}\"\r\n        style=\"background-color: ${backgroundColor}\"\r\n      >\r\n        ${letter}\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    \"tsuryphone-avatar\": TsuryPhoneAvatar;\r\n  }\r\n}\r\n","/**\r\n * Contact Item Component\r\n * Individual contact list item\r\n */\r\n\r\nimport { LitElement, html, css, CSSResultGroup, TemplateResult } from \"lit\";\r\nimport { customElement, property } from \"lit/decorators.js\";\r\nimport { HomeAssistant } from \"../../types/homeassistant\";\r\nimport { TsuryPhoneCardConfig, QuickDialEntry } from \"../../types/tsuryphone\";\r\nimport { formatPhoneNumber } from \"../../utils/formatters\";\r\nimport { triggerHaptic } from \"../../utils/haptics\";\r\nimport {\r\n  listItemStyles,\r\n  buttonStyles,\r\n} from \"../../styles/shared-styles\";\r\nimport \"../shared/avatar\";\r\n\r\n@customElement(\"tsuryphone-contact-item\")\r\nexport class TsuryPhoneContactItem extends LitElement {\r\n  @property({ attribute: false }) hass!: HomeAssistant;\r\n  @property({ attribute: false }) config!: TsuryPhoneCardConfig;\r\n  @property({ attribute: false }) contact!: QuickDialEntry;\r\n\r\n  static get styles(): CSSResultGroup {\r\n    return [\r\n      listItemStyles,\r\n      buttonStyles,\r\n      css`\r\n        :host {\r\n          display: block;\r\n        }\r\n\r\n        .contact-info {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 12px;\r\n          flex: 1;\r\n          min-width: 0;\r\n        }\r\n\r\n        .contact-details {\r\n          flex: 1;\r\n          min-width: 0;\r\n        }\r\n\r\n        .contact-name {\r\n          font-size: 16px;\r\n          font-weight: 500;\r\n          color: var(--primary-text-color, #000);\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n          white-space: nowrap;\r\n        }\r\n\r\n        .contact-number {\r\n          font-size: 14px;\r\n          color: var(--secondary-text-color, #666);\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n          white-space: nowrap;\r\n        }\r\n\r\n        .contact-actions {\r\n          display: flex;\r\n          gap: 8px;\r\n        }\r\n\r\n        .call-button {\r\n          width: 40px;\r\n          height: 40px;\r\n          border-radius: 50%;\r\n          border: none;\r\n          background: var(--primary-color, #03a9f4);\r\n          color: white;\r\n          cursor: pointer;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          transition: all 0.2s;\r\n        }\r\n\r\n        .call-button:hover {\r\n          background: var(--dark-primary-color, #0288d1);\r\n          transform: scale(1.05);\r\n        }\r\n\r\n        .call-button:active {\r\n          transform: scale(0.95);\r\n        }\r\n\r\n        .priority-star {\r\n          color: var(--warning-color, #ffa726);\r\n        }\r\n      `,\r\n    ];\r\n  }\r\n\r\n  private _getPhoneStateEntityId(): string {\r\n    const deviceId = this.config?.device_id || \"tsuryphone\";\r\n\r\n    if (this.config?.entity) {\r\n      return this.config.entity.startsWith(\"sensor.\")\r\n        ? this.config.entity\r\n        : `sensor.${this.config.entity}`;\r\n    }\r\n\r\n    return `sensor.${deviceId}_phone_state`;\r\n  }\r\n\r\n  private async _handleCall(): Promise<void> {\r\n    triggerHaptic(\"medium\");\r\n\r\n    try {\r\n      await this.hass.callService(\r\n        \"tsuryphone\",\r\n        \"dial\",\r\n        {\r\n          number: this.contact.number,\r\n        },\r\n        {\r\n          entity_id: this._getPhoneStateEntityId(),\r\n        }\r\n      );\r\n    } catch (error) {\r\n      console.error(\"[ContactItem] Failed to dial:\", error);\r\n    }\r\n  }\r\n\r\n  private _handleEdit(): void {\r\n    triggerHaptic(\"light\");\r\n    this.dispatchEvent(\r\n      new CustomEvent(\"edit-contact\", {\r\n        detail: { contact: this.contact },\r\n        bubbles: true,\r\n        composed: true,\r\n      })\r\n    );\r\n  }\r\n\r\n  protected render(): TemplateResult {\r\n    const formattedNumber = formatPhoneNumber(\r\n      this.contact.display_number || this.contact.number\r\n    );\r\n\r\n    // Check if contact is priority by looking in priority_callers list\r\n    const phoneState = this.hass?.states[this._getPhoneStateEntityId()];\r\n    const priorityCallers = phoneState?.attributes?.priority_callers || [];\r\n    const isPriority = priorityCallers.some(\r\n      (p: any) => p.number === this.contact.number  // Both are normalized E.164 format\r\n    );\r\n\r\n    return html`\r\n      <div class=\"list-item\" @click=${this._handleEdit}>\r\n        <div class=\"contact-info\">\r\n          <tsuryphone-avatar .name=${this.contact.name}></tsuryphone-avatar>\r\n          <div class=\"contact-details\">\r\n            <div class=\"contact-name\">\r\n              ${this.contact.name}\r\n              ${isPriority\r\n                ? html`<ha-icon\r\n                    class=\"priority-star\"\r\n                    icon=\"mdi:star\"\r\n                  ></ha-icon>`\r\n                : \"\"}\r\n            </div>\r\n            <div class=\"contact-number\">${formattedNumber}</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"contact-actions\">\r\n          <button\r\n            class=\"call-button\"\r\n            @click=${(e: Event) => {\r\n              e.stopPropagation();\r\n              this._handleCall();\r\n            }}\r\n            title=\"Call ${this.contact.name}\"\r\n          >\r\n            <ha-icon icon=\"mdi:phone\"></ha-icon>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    \"tsuryphone-contact-item\": TsuryPhoneContactItem;\r\n  }\r\n}\r\n","/**\r\n * Contacts View Component\r\n * Main container for contacts management\r\n */\r\n\r\nimport { LitElement, html, css, CSSResultGroup, TemplateResult } from \"lit\";\r\nimport { customElement, property, state } from \"lit/decorators.js\";\r\nimport { HomeAssistant } from \"../../types/homeassistant\";\r\nimport { TsuryPhoneCardConfig, QuickDialEntry } from \"../../types/tsuryphone\";\r\nimport \"../shared/empty-state\";\r\nimport \"./contact-item\";\r\n\r\n@customElement(\"tsuryphone-contacts-view\")\r\nexport class TsuryPhoneContactsView extends LitElement {\r\n  @property({ attribute: false }) hass!: HomeAssistant;\r\n  @property({ attribute: false }) config!: TsuryPhoneCardConfig;\r\n\r\n  @state() private _searchQuery = \"\";\r\n  @state() private _showAddModal = false;\r\n\r\n  static get styles(): CSSResultGroup {\r\n    return css`\r\n      :host {\r\n        display: flex;\r\n        flex-direction: column;\r\n        height: 100%;\r\n        background: var(--card-background-color, #fff);\r\n      }\r\n\r\n      .contacts-header {\r\n        padding: 16px;\r\n        border-bottom: 1px solid var(--divider-color, #e0e0e0);\r\n        display: flex;\r\n        flex-direction: column;\r\n        gap: 12px;\r\n      }\r\n\r\n      .search-bar {\r\n        display: flex;\r\n        align-items: center;\r\n        gap: 8px;\r\n        padding: 8px 12px;\r\n        background: var(--secondary-background-color, #f5f5f5);\r\n        border-radius: 8px;\r\n      }\r\n\r\n      .search-input {\r\n        flex: 1;\r\n        border: none;\r\n        background: transparent;\r\n        font-size: 16px;\r\n        color: var(--primary-text-color, #000);\r\n        outline: none;\r\n      }\r\n\r\n      .search-input::placeholder {\r\n        color: var(--secondary-text-color, #666);\r\n      }\r\n\r\n      .add-button {\r\n        width: 100%;\r\n        padding: 12px;\r\n        border-radius: 8px;\r\n        border: none;\r\n        background: var(--primary-color, #03a9f4);\r\n        color: white;\r\n        font-size: 16px;\r\n        font-weight: 500;\r\n        cursor: pointer;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        gap: 8px;\r\n        transition: all 0.2s;\r\n      }\r\n\r\n      .add-button:hover {\r\n        background: var(--dark-primary-color, #0288d1);\r\n      }\r\n\r\n      .add-button:active {\r\n        transform: scale(0.98);\r\n      }\r\n\r\n      .contacts-list {\r\n        flex: 1;\r\n        overflow-y: auto;\r\n      }\r\n\r\n      .section-header {\r\n        padding: 12px 16px;\r\n        background: var(--secondary-background-color, #f5f5f5);\r\n        font-size: 14px;\r\n        font-weight: 500;\r\n        color: var(--secondary-text-color, #666);\r\n        position: sticky;\r\n        top: 0;\r\n        z-index: 1;\r\n      }\r\n    `;\r\n  }\r\n\r\n  private _getContacts(): QuickDialEntry[] {\r\n    const phoneStateEntityId = this._getPhoneStateEntityId();\r\n    const phoneState = this.hass?.states[phoneStateEntityId];\r\n    const contacts = phoneState?.attributes?.quick_dials || [];\r\n    \r\n    return contacts;\r\n  }\r\n\r\n  private _getFilteredContacts(): QuickDialEntry[] {\r\n    const contacts = this._getContacts();\r\n\r\n    if (!this._searchQuery.trim()) {\r\n      return contacts;\r\n    }\r\n\r\n    const query = this._searchQuery.toLowerCase();\r\n    return contacts.filter(\r\n      (contact) =>\r\n        contact.name?.toLowerCase().includes(query) ||\r\n        contact.number?.toLowerCase().includes(query) ||\r\n        contact.code?.toLowerCase().includes(query)\r\n    );\r\n  }\r\n\r\n  private _groupContactsByLetter(): Map<string, QuickDialEntry[]> {\r\n    const contacts = this._getFilteredContacts();\r\n    const grouped = new Map<string, QuickDialEntry[]>();\r\n\r\n    contacts.forEach((contact) => {\r\n      const firstLetter = (contact.name?.[0] || \"#\").toUpperCase();\r\n      if (!grouped.has(firstLetter)) {\r\n        grouped.set(firstLetter, []);\r\n      }\r\n      grouped.get(firstLetter)!.push(contact);\r\n    });\r\n\r\n    // Sort groups alphabetically\r\n    return new Map([...grouped.entries()].sort());\r\n  }\r\n\r\n  private _getPhoneStateEntityId(): string {\r\n    const deviceId = this.config?.device_id || \"tsuryphone\";\r\n\r\n    if (this.config?.entity) {\r\n      return this.config.entity.startsWith(\"sensor.\")\r\n        ? this.config.entity\r\n        : `sensor.${this.config.entity}`;\r\n    }\r\n\r\n    return `sensor.${deviceId}_phone_state`;\r\n  }\r\n\r\n  private _handleSearch(e: Event): void {\r\n    const input = e.target as HTMLInputElement;\r\n    this._searchQuery = input.value;\r\n  }\r\n\r\n  private _handleAddContact(): void {\r\n    this._showAddModal = true;\r\n  }\r\n\r\n  protected render(): TemplateResult {\r\n    const contacts = this._getContacts();\r\n    const groupedContacts = this._groupContactsByLetter();\r\n\r\n    return html`\r\n      <div class=\"contacts-header\">\r\n        <div class=\"search-bar\">\r\n          <ha-icon icon=\"mdi:magnify\"></ha-icon>\r\n          <input\r\n            class=\"search-input\"\r\n            type=\"text\"\r\n            placeholder=\"Search contacts...\"\r\n            .value=${this._searchQuery}\r\n            @input=${this._handleSearch}\r\n          />\r\n          ${this._searchQuery\r\n            ? html`\r\n                <ha-icon\r\n                  icon=\"mdi:close\"\r\n                  @click=${() => (this._searchQuery = \"\")}\r\n                  style=\"cursor: pointer\"\r\n                ></ha-icon>\r\n              `\r\n            : \"\"}\r\n        </div>\r\n        <button class=\"add-button\" @click=${this._handleAddContact}>\r\n          <ha-icon icon=\"mdi:plus\"></ha-icon>\r\n          Add Contact\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"contacts-list\">\r\n        ${contacts.length === 0\r\n          ? html`\r\n              <tsuryphone-empty-state\r\n                icon=\"mdi:contacts-outline\"\r\n                title=\"No contacts yet\"\r\n                message=\"Add your first contact to get started\"\r\n                actionLabel=\"Add Contact\"\r\n                .onAction=${() => this._handleAddContact()}\r\n              ></tsuryphone-empty-state>\r\n            `\r\n          : groupedContacts.size === 0\r\n            ? html`\r\n                <tsuryphone-empty-state\r\n                  icon=\"mdi:magnify\"\r\n                  title=\"No results\"\r\n                  message=\"No contacts match your search\"\r\n                ></tsuryphone-empty-state>\r\n              `\r\n            : Array.from(groupedContacts.entries()).map(\r\n                ([letter, contacts]) => html`\r\n                  <div class=\"section-header\">${letter}</div>\r\n                  ${contacts.map(\r\n                    (contact) => html`\r\n                      <tsuryphone-contact-item\r\n                        .hass=${this.hass}\r\n                        .config=${this.config}\r\n                        .contact=${contact}\r\n                      ></tsuryphone-contact-item>\r\n                    `\r\n                  )}\r\n                `\r\n              )}\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    \"tsuryphone-contacts-view\": TsuryPhoneContactsView;\r\n  }\r\n}\r\n","import { LitElement, html, css, TemplateResult } from \"lit\";\r\nimport { customElement, property, state } from \"lit/decorators.js\";\r\nimport { HomeAssistant } from \"../../types/homeassistant\";\r\nimport { QuickDialEntry } from \"../../types/tsuryphone\";\r\nimport { triggerHaptic } from \"../../utils/haptics\";\r\n\r\ntype ContactModalMode = \"add\" | \"edit\";\r\n\r\ninterface FormData {\r\n  name: string;\r\n  number: string;\r\n  code: string;\r\n  priority: boolean;\r\n}\r\n\r\ninterface ValidationErrors {\r\n  name?: string;\r\n  number?: string;\r\n  code?: string;\r\n}\r\n\r\n@customElement(\"tsuryphone-contact-modal\")\r\nexport class ContactModal extends LitElement {\r\n  @property({ attribute: false }) hass!: HomeAssistant;\r\n  @property({ type: Boolean, reflect: true }) open = false;\r\n  @property({ type: String }) mode: ContactModalMode = \"add\";\r\n  @property({ attribute: false }) contact?: QuickDialEntry;\r\n\r\n  @state() private formData: FormData = {\r\n    name: \"\",\r\n    number: \"\",\r\n    code: \"\",\r\n    priority: false,\r\n  };\r\n\r\n  @state() private errors: ValidationErrors = {};\r\n  @state() private saving = false;\r\n  @state() private showDeleteConfirm = false;\r\n\r\n  static styles = css`\r\n    :host {\r\n      display: none;\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      z-index: 100;\r\n    }\r\n\r\n    :host([open]) {\r\n      display: block;\r\n    }\r\n\r\n    .modal {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      background: var(--card-background-color, #fff);\r\n      padding: 24px;\r\n      overflow-y: auto;\r\n      animation: slideIn 0.2s ease-out;\r\n    }\r\n\r\n    @keyframes slideIn {\r\n      from {\r\n        transform: translateX(100%);\r\n      }\r\n      to {\r\n        transform: translateX(0);\r\n      }\r\n    }\r\n\r\n    .header {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      margin-bottom: 24px;\r\n    }\r\n\r\n    .title {\r\n      font-size: 24px;\r\n      font-weight: 500;\r\n      color: var(--primary-text-color);\r\n      margin: 0;\r\n    }\r\n\r\n    .close-button {\r\n      width: 40px;\r\n      height: 40px;\r\n      border-radius: 50%;\r\n      border: none;\r\n      background: transparent;\r\n      color: var(--primary-text-color);\r\n      cursor: pointer;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      transition: background-color 0.2s;\r\n    }\r\n\r\n    .close-button:hover {\r\n      background-color: var(--divider-color, rgba(0, 0, 0, 0.1));\r\n    }\r\n\r\n    .close-button ha-icon {\r\n      --mdc-icon-size: 24px;\r\n    }\r\n\r\n    .form {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 20px;\r\n    }\r\n\r\n    .form-field {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 8px;\r\n    }\r\n\r\n    .form-field label {\r\n      font-size: 14px;\r\n      font-weight: 500;\r\n      color: var(--primary-text-color);\r\n    }\r\n\r\n    .form-field label .required {\r\n      color: var(--error-color, #db4437);\r\n    }\r\n\r\n    .form-field label .optional {\r\n      color: var(--secondary-text-color);\r\n      font-weight: 400;\r\n      font-size: 12px;\r\n    }\r\n\r\n    .form-field input {\r\n      padding: 12px 16px;\r\n      border: 1px solid var(--divider-color, #e0e0e0);\r\n      border-radius: 12px;\r\n      font-size: 16px;\r\n      font-family: inherit;\r\n      color: var(--primary-text-color);\r\n      background: var(--card-background-color);\r\n      transition: border-color 0.2s;\r\n    }\r\n\r\n    .form-field input:focus {\r\n      outline: none;\r\n      border-color: var(--primary-color);\r\n    }\r\n\r\n    .form-field input.error {\r\n      border-color: var(--error-color, #db4437);\r\n    }\r\n\r\n    .form-field .error-message {\r\n      font-size: 12px;\r\n      color: var(--error-color, #db4437);\r\n      margin-top: 4px;\r\n    }\r\n\r\n    .priority-toggle {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 12px;\r\n      padding: 12px 0;\r\n    }\r\n\r\n    .priority-toggle input[type=\"checkbox\"] {\r\n      width: 20px;\r\n      height: 20px;\r\n      cursor: pointer;\r\n      accent-color: var(--primary-color);\r\n    }\r\n\r\n    .priority-toggle label {\r\n      font-size: 16px;\r\n      color: var(--primary-text-color);\r\n      cursor: pointer;\r\n      flex: 1;\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 8px;\r\n    }\r\n\r\n    .priority-toggle ha-icon {\r\n      --mdc-icon-size: 20px;\r\n      color: var(--warning-color, #f57c00);\r\n    }\r\n\r\n    .actions {\r\n      display: flex;\r\n      gap: 12px;\r\n      margin-top: 24px;\r\n    }\r\n\r\n    .actions button {\r\n      flex: 1;\r\n      padding: 14px 24px;\r\n      border: none;\r\n      border-radius: 12px;\r\n      font-size: 16px;\r\n      font-weight: 500;\r\n      cursor: pointer;\r\n      transition: all 0.2s;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      gap: 8px;\r\n    }\r\n\r\n    .actions button:disabled {\r\n      opacity: 0.5;\r\n      cursor: not-allowed;\r\n    }\r\n\r\n    .button-cancel {\r\n      background: transparent;\r\n      color: var(--primary-text-color);\r\n      border: 1px solid var(--divider-color, #e0e0e0);\r\n    }\r\n\r\n    .button-cancel:hover:not(:disabled) {\r\n      background: var(--divider-color, rgba(0, 0, 0, 0.05));\r\n    }\r\n\r\n    .button-save {\r\n      background: var(--primary-color);\r\n      color: var(--text-primary-color, #fff);\r\n    }\r\n\r\n    .button-save:hover:not(:disabled) {\r\n      opacity: 0.9;\r\n    }\r\n\r\n    .button-delete {\r\n      background: var(--error-color, #db4437);\r\n      color: white;\r\n      margin-bottom: 12px;\r\n    }\r\n\r\n    .button-delete:hover:not(:disabled) {\r\n      opacity: 0.9;\r\n    }\r\n\r\n    .delete-confirm {\r\n      background: var(--card-background-color);\r\n      border: 1px solid var(--divider-color);\r\n      border-radius: 12px;\r\n      padding: 16px;\r\n      margin-bottom: 16px;\r\n    }\r\n\r\n    .delete-confirm-text {\r\n      font-size: 14px;\r\n      color: var(--primary-text-color);\r\n      margin-bottom: 12px;\r\n    }\r\n\r\n    .delete-confirm-actions {\r\n      display: flex;\r\n      gap: 8px;\r\n    }\r\n\r\n    .delete-confirm-actions button {\r\n      flex: 1;\r\n      padding: 10px;\r\n      border-radius: 8px;\r\n      border: none;\r\n      font-size: 14px;\r\n      font-weight: 500;\r\n      cursor: pointer;\r\n    }\r\n\r\n    .spinner {\r\n      width: 20px;\r\n      height: 20px;\r\n      border: 2px solid currentColor;\r\n      border-right-color: transparent;\r\n      border-radius: 50%;\r\n      animation: spin 0.6s linear infinite;\r\n    }\r\n\r\n    @keyframes spin {\r\n      to {\r\n        transform: rotate(360deg);\r\n      }\r\n    }\r\n  `;\r\n\r\n  updated(changedProperties: Map<string, any>) {\r\n    if (changedProperties.has(\"open\") && this.open) {\r\n      this._initializeForm();\r\n    }\r\n  }\r\n\r\n  private _initializeForm() {\r\n    if (this.mode === \"edit\" && this.contact) {\r\n      this.formData = {\r\n        name: this.contact.name || \"\",\r\n        number: this.contact.number || \"\",\r\n        code: this.contact.code || \"\",\r\n        priority: this._isContactPriority(this.contact),\r\n      };\r\n    } else {\r\n      this.formData = {\r\n        name: \"\",\r\n        number: \"\",\r\n        code: \"\",\r\n        priority: false,\r\n      };\r\n    }\r\n    this.errors = {};\r\n    this.showDeleteConfirm = false;\r\n  }\r\n\r\n  private _getPhoneStateId(): string | null {\r\n    // Find the phone_state sensor entity\r\n    return (\r\n      Object.keys(this.hass.states).find(\r\n        (id) =>\r\n          id.includes(\"tsuryphone\") &&\r\n          id.includes(\"phone_state\") &&\r\n          this.hass.states[id].entity_id.includes(\"sensor\")\r\n      ) || null\r\n    );\r\n  }\r\n\r\n  private _isContactPriority(contact: QuickDialEntry): boolean {\r\n    const phoneStateId = this._getPhoneStateId();\r\n    if (!phoneStateId) return false;\r\n\r\n    const phoneState = this.hass.states[phoneStateId];\r\n    const priorityCallers = phoneState?.attributes?.priority_callers || [];\r\n    return priorityCallers.some((p: any) => p.number === contact.number);\r\n  }\r\n\r\n  private _handleClose() {\r\n    if (this.saving) return;\r\n    triggerHaptic(\"light\");\r\n    this.open = false;\r\n    this.dispatchEvent(new CustomEvent(\"close\"));\r\n  }\r\n\r\n  private _handleInputChange(e: Event) {\r\n    const input = e.target as HTMLInputElement;\r\n    const field = input.name as keyof FormData;\r\n\r\n    if (field === \"priority\") {\r\n      this.formData = { ...this.formData, [field]: input.checked };\r\n    } else {\r\n      this.formData = { ...this.formData, [field]: input.value };\r\n    }\r\n\r\n    // Clear error for this field\r\n    if (this.errors[field as keyof ValidationErrors]) {\r\n      this.errors = { ...this.errors, [field]: undefined };\r\n    }\r\n  }\r\n\r\n  private _validate(): boolean {\r\n    const errors: ValidationErrors = {};\r\n\r\n    // Name validation\r\n    if (!this.formData.name.trim()) {\r\n      errors.name = \"Name is required\";\r\n    }\r\n\r\n    // Number validation\r\n    if (!this.formData.number.trim()) {\r\n      errors.number = \"Phone number is required\";\r\n    } else if (!/^[\\d\\s\\-\\+\\(\\)]+$/.test(this.formData.number)) {\r\n      errors.number = \"Invalid phone number format\";\r\n    }\r\n\r\n    // Code validation (uniqueness check if provided)\r\n    if (this.formData.code.trim()) {\r\n      const phoneStateId = this._getPhoneStateId();\r\n      if (phoneStateId) {\r\n        const phoneState = this.hass.states[phoneStateId];\r\n        const quickDials = phoneState?.attributes?.quick_dials || [];\r\n        const isDuplicate = quickDials.some(\r\n          (qd: QuickDialEntry) =>\r\n            qd.code === this.formData.code.trim() &&\r\n            (this.mode === \"add\" || qd.id !== this.contact?.id)\r\n        );\r\n        if (isDuplicate) {\r\n          errors.code = \"This code is already in use\";\r\n        }\r\n      }\r\n    }\r\n\r\n    this.errors = errors;\r\n    return Object.keys(errors).length === 0;\r\n  }\r\n\r\n  private async _handleSave() {\r\n    if (!this._validate()) {\r\n      triggerHaptic(\"heavy\");\r\n      return;\r\n    }\r\n\r\n    this.saving = true;\r\n    triggerHaptic(\"medium\");\r\n\r\n    try {\r\n      if (this.mode === \"edit\" && this.contact) {\r\n        // Edit mode: delete old + add new\r\n        await this._deleteContact(this.contact.id);\r\n        await this._addContact();\r\n      } else {\r\n        // Add mode\r\n        await this._addContact();\r\n      }\r\n\r\n      // Handle priority changes\r\n      await this._handlePriorityChange();\r\n\r\n      triggerHaptic(\"medium\");\r\n      this.open = false;\r\n      this.dispatchEvent(\r\n        new CustomEvent(\"contact-saved\", {\r\n          detail: { mode: this.mode },\r\n        })\r\n      );\r\n    } catch (error) {\r\n      console.error(\"Error saving contact:\", error);\r\n      triggerHaptic(\"heavy\");\r\n      this.dispatchEvent(\r\n        new CustomEvent(\"error\", {\r\n          detail: { message: \"Failed to save contact\" },\r\n        })\r\n      );\r\n    } finally {\r\n      this.saving = false;\r\n    }\r\n  }\r\n\r\n  private async _addContact() {\r\n    const serviceData: any = {\r\n      number: this.formData.number.trim(),\r\n      name: this.formData.name.trim(),\r\n    };\r\n\r\n    if (this.formData.code.trim()) {\r\n      serviceData.code = this.formData.code.trim();\r\n    }\r\n\r\n    await this.hass.callService(\"tsuryphone\", \"quick_dial_add\", serviceData);\r\n  }\r\n\r\n  private async _deleteContact(id: string) {\r\n    await this.hass.callService(\"tsuryphone\", \"quick_dial_remove\", { id });\r\n  }\r\n\r\n  private async _handlePriorityChange() {\r\n    const wasPriority =\r\n      this.mode === \"edit\" && this.contact\r\n        ? this._isContactPriority(this.contact)\r\n        : false;\r\n    const isPriority = this.formData.priority;\r\n\r\n    if (isPriority && !wasPriority) {\r\n      // Add to priority\r\n      await this.hass.callService(\"tsuryphone\", \"priority_add\", {\r\n        number: this.formData.number.trim(),\r\n      });\r\n    } else if (!isPriority && wasPriority && this.contact) {\r\n      // Remove from priority - need to find the priority entry ID\r\n      const phoneStateId = this._getPhoneStateId();\r\n      if (phoneStateId) {\r\n        const phoneState = this.hass.states[phoneStateId];\r\n        const priorityCallers = phoneState?.attributes?.priority_callers || [];\r\n        const priorityEntry = priorityCallers.find(\r\n          (p: any) => p.number === this.contact!.number\r\n        );\r\n        if (priorityEntry) {\r\n          await this.hass.callService(\"tsuryphone\", \"priority_remove\", {\r\n            id: priorityEntry.id,\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private _handleDeleteClick() {\r\n    triggerHaptic(\"medium\");\r\n    this.showDeleteConfirm = true;\r\n  }\r\n\r\n  private _handleDeleteCancel() {\r\n    triggerHaptic(\"light\");\r\n    this.showDeleteConfirm = false;\r\n  }\r\n\r\n  private async _handleDeleteConfirm() {\r\n    if (!this.contact) return;\r\n\r\n    this.saving = true;\r\n    triggerHaptic(\"heavy\");\r\n\r\n    try {\r\n      await this._deleteContact(this.contact.id);\r\n\r\n      // Also remove from priority if it's a priority contact\r\n      if (this._isContactPriority(this.contact)) {\r\n        const phoneStateId = this._getPhoneStateId();\r\n        if (phoneStateId) {\r\n          const phoneState = this.hass.states[phoneStateId];\r\n          const priorityCallers =\r\n            phoneState?.attributes?.priority_callers || [];\r\n          const priorityEntry = priorityCallers.find(\r\n            (p: any) => p.number === this.contact!.number\r\n          );\r\n          if (priorityEntry) {\r\n            await this.hass.callService(\"tsuryphone\", \"priority_remove\", {\r\n              id: priorityEntry.id,\r\n            });\r\n          }\r\n        }\r\n      }\r\n\r\n      this.open = false;\r\n      this.dispatchEvent(\r\n        new CustomEvent(\"contact-deleted\", {\r\n          detail: { id: this.contact.id },\r\n        })\r\n      );\r\n    } catch (error) {\r\n      console.error(\"Error deleting contact:\", error);\r\n      triggerHaptic(\"heavy\");\r\n      this.dispatchEvent(\r\n        new CustomEvent(\"error\", {\r\n          detail: { message: \"Failed to delete contact\" },\r\n        })\r\n      );\r\n    } finally {\r\n      this.saving = false;\r\n    }\r\n  }\r\n\r\n  protected render(): TemplateResult {\r\n    if (!this.open) return html``;\r\n\r\n    const title = this.mode === \"add\" ? \"Add Contact\" : \"Edit Contact\";\r\n\r\n    return html`\r\n      <div class=\"modal\">\r\n        <div class=\"header\">\r\n          <h2 class=\"title\">${title}</h2>\r\n          <button\r\n            class=\"close-button\"\r\n            @click=${this._handleClose}\r\n            ?disabled=${this.saving}\r\n          >\r\n            <ha-icon icon=\"mdi:close\"></ha-icon>\r\n          </button>\r\n        </div>\r\n\r\n          ${this.showDeleteConfirm\r\n            ? html`\r\n                <div class=\"delete-confirm\">\r\n                  <div class=\"delete-confirm-text\">\r\n                    Are you sure you want to delete this contact? This action\r\n                    cannot be undone.\r\n                  </div>\r\n                  <div class=\"delete-confirm-actions\">\r\n                    <button\r\n                      @click=${this._handleDeleteCancel}\r\n                      ?disabled=${this.saving}\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                    <button\r\n                      class=\"button-delete\"\r\n                      @click=${this._handleDeleteConfirm}\r\n                      ?disabled=${this.saving}\r\n                    >\r\n                      ${this.saving\r\n                        ? html`<div class=\"spinner\"></div>`\r\n                        : \"Delete\"}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              `\r\n            : \"\"}\r\n\r\n          <div class=\"form\">\r\n            <div class=\"form-field\">\r\n              <label>\r\n                Name <span class=\"required\">*</span>\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                .value=${this.formData.name}\r\n                @input=${this._handleInputChange}\r\n                class=${this.errors.name ? \"error\" : \"\"}\r\n                ?disabled=${this.saving}\r\n                placeholder=\"Contact name\"\r\n              />\r\n              ${this.errors.name\r\n                ? html`<div class=\"error-message\">${this.errors.name}</div>`\r\n                : \"\"}\r\n            </div>\r\n\r\n            <div class=\"form-field\">\r\n              <label>\r\n                Phone Number <span class=\"required\">*</span>\r\n              </label>\r\n              <input\r\n                type=\"tel\"\r\n                name=\"number\"\r\n                .value=${this.formData.number}\r\n                @input=${this._handleInputChange}\r\n                class=${this.errors.number ? \"error\" : \"\"}\r\n                ?disabled=${this.saving}\r\n                placeholder=\"+1234567890\"\r\n              />\r\n              ${this.errors.number\r\n                ? html`<div class=\"error-message\">${this.errors.number}</div>`\r\n                : \"\"}\r\n            </div>\r\n\r\n            <div class=\"form-field\">\r\n              <label>\r\n                Quick Dial Code <span class=\"optional\">(optional)</span>\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"code\"\r\n                .value=${this.formData.code}\r\n                @input=${this._handleInputChange}\r\n                class=${this.errors.code ? \"error\" : \"\"}\r\n                ?disabled=${this.saving}\r\n                placeholder=\"e.g., 1, 2, mom, work\"\r\n              />\r\n              ${this.errors.code\r\n                ? html`<div class=\"error-message\">${this.errors.code}</div>`\r\n                : \"\"}\r\n            </div>\r\n\r\n            <div class=\"priority-toggle\">\r\n              <input\r\n                type=\"checkbox\"\r\n                name=\"priority\"\r\n                id=\"priority-checkbox\"\r\n                .checked=${this.formData.priority}\r\n                @change=${this._handleInputChange}\r\n                ?disabled=${this.saving}\r\n              />\r\n              <label for=\"priority-checkbox\">\r\n                <ha-icon icon=\"mdi:star\"></ha-icon>\r\n                Priority Contact\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          ${this.mode === \"edit\" && !this.showDeleteConfirm\r\n            ? html`\r\n                <button\r\n                  class=\"button-delete\"\r\n                  @click=${this._handleDeleteClick}\r\n                  ?disabled=${this.saving}\r\n                  style=\"width: 100%; margin-top: 24px;\"\r\n                >\r\n                  <ha-icon icon=\"mdi:delete\"></ha-icon>\r\n                  Delete Contact\r\n                </button>\r\n              `\r\n            : \"\"}\r\n\r\n          <div class=\"actions\">\r\n            <button\r\n              class=\"button-cancel\"\r\n              @click=${this._handleClose}\r\n              ?disabled=${this.saving}\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              class=\"button-save\"\r\n              @click=${this._handleSave}\r\n              ?disabled=${this.saving}\r\n            >\r\n              ${this.saving\r\n                ? html`<div class=\"spinner\"></div>`\r\n                : this.mode === \"add\"\r\n                ? \"Add Contact\"\r\n                : \"Save Changes\"}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    \"tsuryphone-contact-modal\": ContactModal;\r\n  }\r\n}\r\n","/**\r\n * TsuryPhone Card - Main Component\r\n * A modern phone and contacts interface for Home Assistant\r\n */\r\n\r\nimport { LitElement, html, css, CSSResultGroup, TemplateResult } from \"lit\";\r\nimport { customElement, property, state } from \"lit/decorators.js\";\r\nimport { HomeAssistant } from \"./types/homeassistant\";\r\nimport { \r\n  TsuryPhoneCardConfig, \r\n  QuickDialEntry, \r\n  BlockedNumberEntry, \r\n  CallHistoryEntry \r\n} from \"./types/tsuryphone\";\r\nimport { haThemeVariables, haButtonStyles, haCardStyles, isDarkMode } from \"./styles/theme\";\r\nimport { commonStyles } from \"./styles/common\";\r\nimport './components/navigation/tsuryphone-navigation';\r\nimport './components/home/home-view';\r\nimport './components/keypad/keypad-view';\r\nimport './components/contacts/contacts-view';\r\nimport './components/modals/contact-modal';\r\nimport type { NavigationTab, TabChangeEvent } from './components/navigation/tsuryphone-navigation';\r\nimport type { CallHistoryEntry as CallHistoryEntryType } from './utils/call-history-grouping';\r\n\r\n// Declare the card for Home Assistant\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    \"tsuryphone-card\": TsuryPhoneCard;\r\n  }\r\n}\r\n\r\n// Register with custom elements registry\r\n(window as any).customCards = (window as any).customCards || [];\r\n(window as any).customCards.push({\r\n  type: \"tsuryphone-card\",\r\n  name: \"TsuryPhone Card\",\r\n  description: \"A modern phone and contacts interface\",\r\n});\r\n\r\n@customElement(\"tsuryphone-card\")\r\nexport class TsuryPhoneCard extends LitElement {\r\n  @property({ attribute: false }) hass!: HomeAssistant;\r\n  @property({ attribute: false }) config!: TsuryPhoneCardConfig;\r\n\r\n  @state() private _activeView: NavigationTab = \"home\";\r\n  @state() private _showCallModal = false;\r\n  @state() private _showContactModal = false;\r\n  @state() private _showBlockedView = false;\r\n  @state() private _isDarkMode = false;\r\n  \r\n  // Cached data from coordinator\r\n  @state() private _contactsCache: QuickDialEntry[] = [];\r\n  @state() private _blockedCache: BlockedNumberEntry[] = [];\r\n  @state() private _callHistoryCache: CallHistoryEntry[] = [];\r\n  @state() private _priorityNumbers: Set<string> = new Set();\r\n  \r\n  // Connection state\r\n  @state() private _isConnected = true;\r\n  @state() private _errorMessage = \"\";\r\n\r\n  // Modal state\r\n  @state() private _contactModalOpen = false;\r\n  @state() private _contactModalMode: \"add\" | \"edit\" = \"add\";\r\n  @state() private _contactModalData?: QuickDialEntry;\r\n\r\n  // Subscriptions\r\n  private _unsubscribers: Array<() => void> = [];\r\n\r\n  /**\r\n   * Set the configuration for this card\r\n   */\r\n  setConfig(config: TsuryPhoneCardConfig): void {\r\n    if (!config) {\r\n      throw new Error(\"Invalid configuration\");\r\n    }\r\n    this.config = config;\r\n  }\r\n\r\n  /**\r\n   * Get the card size (used by HA for layout)\r\n   */\r\n  getCardSize(): number {\r\n    return 9; // Roughly 9 grid rows (~450px) - fits keypad without scroll\r\n  }\r\n\r\n  /**\r\n   * Lifecycle: Connected to DOM\r\n   */\r\n  connectedCallback(): void {\r\n    super.connectedCallback();\r\n    this._subscribe();\r\n  }\r\n\r\n  /**\r\n   * Lifecycle: Disconnected from DOM\r\n   */\r\n  disconnectedCallback(): void {\r\n    super.disconnectedCallback();\r\n    this._unsubscribe();\r\n  }\r\n\r\n  /**\r\n   * Lifecycle: Property updated\r\n   */\r\n  protected updated(changedProps: Map<string, any>): void {\r\n    super.updated(changedProps);\r\n    \r\n    if (changedProps.has('hass')) {\r\n      this._handleHassUpdate();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Subscribe to Home Assistant state changes\r\n   */\r\n  private _subscribe(): void {\r\n    if (!this.hass || !this.hass.connection) {\r\n      console.warn(\"TsuryPhone: Cannot subscribe - no HA connection\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Subscribe to entity state changes using subscribeEvents\r\n      // We listen for state_changed events for our entities\r\n      const deviceId = this.config?.device_id || 'tsuryphone';\r\n      \r\n      const unsubPromise = this.hass.connection.subscribeEvents(\r\n        (event: any) => {\r\n          // Check if the event is for one of our entities\r\n          const entityId = event.data?.entity_id;\r\n          if (entityId && entityId.startsWith(`sensor.${deviceId}_`) || \r\n              entityId?.startsWith(`binary_sensor.${deviceId}_`)) {\r\n            this._handleStateUpdate();\r\n          }\r\n        },\r\n        'state_changed'\r\n      );\r\n      \r\n      if (unsubPromise && typeof unsubPromise.then === 'function') {\r\n        unsubPromise.then((unsub: () => void) => {\r\n          this._unsubscribers.push(unsub);\r\n        }).catch((err: any) => {\r\n          console.error('TsuryPhone: Failed to subscribe to state changes:', err);\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.error('TsuryPhone: Error in subscribe:', err);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Unsubscribe from all subscriptions\r\n   */\r\n  private _unsubscribe(): void {\r\n    this._unsubscribers.forEach((unsub) => {\r\n      try {\r\n        unsub();\r\n      } catch (err) {\r\n        console.error('TsuryPhone: Error unsubscribing:', err);\r\n      }\r\n    });\r\n    this._unsubscribers = [];\r\n  }\r\n\r\n  /**\r\n   * Handle Home Assistant updates\r\n   */\r\n  private _handleHassUpdate(): void {\r\n    if (!this.hass) {\r\n      this._isConnected = false;\r\n      this._errorMessage = \"Connection to Home Assistant lost\";\r\n      return;\r\n    }\r\n\r\n    this._isConnected = true;\r\n    this._errorMessage = \"\";\r\n    this._isDarkMode = isDarkMode(this.hass);\r\n    \r\n    // Update cached data from coordinator state\r\n    // Support both direct entity config and device_id pattern\r\n    const deviceId = this.config?.device_id || 'tsuryphone';\r\n    let phoneStateEntityId: string;\r\n    \r\n    if (this.config?.entity) {\r\n      // Use entity directly if provided\r\n      phoneStateEntityId = this.config.entity.startsWith('sensor.') \r\n        ? this.config.entity \r\n        : `sensor.${this.config.entity}`;\r\n    } else {\r\n      // Fall back to device_id pattern\r\n      phoneStateEntityId = `sensor.${deviceId}_phone_state`;\r\n    }\r\n    \r\n    const phoneStateEntity = this.hass.states[phoneStateEntityId];\r\n    \r\n    if (!phoneStateEntity) {\r\n      this._errorMessage = `Entity ${phoneStateEntityId} not found`;\r\n      return;\r\n    }\r\n    \r\n    if (phoneStateEntity.attributes) {\r\n      const attrs = phoneStateEntity.attributes as any;\r\n      \r\n      // Update contacts\r\n      if (attrs.quick_dials && Array.isArray(attrs.quick_dials)) {\r\n        this._contactsCache = attrs.quick_dials;\r\n      }\r\n      \r\n      // Update blocked numbers\r\n      if (attrs.blocked_numbers && Array.isArray(attrs.blocked_numbers)) {\r\n        this._blockedCache = attrs.blocked_numbers;\r\n      }\r\n      \r\n      // Update priority numbers\r\n      if (attrs.priority_numbers && Array.isArray(attrs.priority_numbers)) {\r\n        this._priorityNumbers = new Set(attrs.priority_numbers);\r\n      }\r\n      \r\n      // Update call history\r\n      if (attrs.call_history && Array.isArray(attrs.call_history)) {\r\n        this._callHistoryCache = attrs.call_history;\r\n      }\r\n    }\r\n    \r\n    // Update call modal state\r\n    this._updateCallModalState();\r\n  }\r\n\r\n  /**\r\n   * Handle state updates from subscriptions\r\n   */\r\n  private _handleStateUpdate(): void {\r\n    // Trigger re-render by updating hass-dependent state\r\n    this._updateCallModalState();\r\n    this.requestUpdate();\r\n  }\r\n\r\n  /**\r\n   * Update call modal visibility based on phone state\r\n   */\r\n  private _updateCallModalState(): void {\r\n    if (!this.hass) return;\r\n    \r\n    const deviceId = this.config?.device_id || 'tsuryphone';\r\n    const phoneState = this.hass.states[`sensor.${deviceId}_phone_state`]?.state;\r\n    const inCall = this.hass.states[`binary_sensor.${deviceId}_in_call`]?.state === 'on';\r\n    \r\n    // Show call modal if ringing or in call\r\n    this._showCallModal = phoneState === 'RINGING_IN' || inCall;\r\n  }\r\n\r\n  /**\r\n   * Refresh data from services\r\n   */\r\n  private async _refreshData(): Promise<void> {\r\n    if (!this.hass) return;\r\n\r\n    try {\r\n      // Call service to get latest call history\r\n      const response = await this.hass.callService(\r\n        'tsuryphone',\r\n        'get_call_history',\r\n        { limit: 1000 },\r\n        true\r\n      ) as any;\r\n\r\n      if (response && response.call_history) {\r\n        this._callHistoryCache = response.call_history;\r\n      }\r\n    } catch (err) {\r\n      console.error('TsuryPhone: Failed to refresh call history:', err);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get entity ID for a device sensor\r\n   */\r\n  private _getDeviceEntityId(suffix: string): string {\r\n    const deviceId = this.config?.device_id || \"tsuryphone\";\r\n    return `sensor.${deviceId}_${suffix}`;\r\n  }\r\n\r\n  /**\r\n   * Handle navigation tab change\r\n   */\r\n  private _handleTabChange(e: CustomEvent<TabChangeEvent>): void {\r\n    this._activeView = e.detail.tab;\r\n  }\r\n\r\n  /**\r\n   * Handle contact modal close\r\n   */\r\n  private _handleContactModalClose(): void {\r\n    this._contactModalOpen = false;\r\n    this._showContactModal = false;\r\n    this._contactModalData = undefined;\r\n  }\r\n\r\n  /**\r\n   * Handle contact saved\r\n   */\r\n  private _handleContactSaved(e: CustomEvent): void {\r\n    console.log(\"Contact saved:\", e.detail);\r\n    this._handleContactModalClose();\r\n    // Data will update automatically via state subscription\r\n  }\r\n\r\n  /**\r\n   * Handle contact deleted\r\n   */\r\n  private _handleContactDeleted(e: CustomEvent): void {\r\n    console.log(\"Contact deleted:\", e.detail);\r\n    this._handleContactModalClose();\r\n    // Data will update automatically via state subscription\r\n  }\r\n\r\n  /**\r\n   * Handle contact modal error\r\n   */\r\n  private _handleContactModalError(e: CustomEvent): void {\r\n    console.error(\"Contact modal error:\", e.detail);\r\n    this._errorMessage = e.detail.message;\r\n    // Show error for 3 seconds\r\n    setTimeout(() => {\r\n      this._errorMessage = \"\";\r\n    }, 3000);\r\n  }\r\n\r\n  /**\r\n   * Handle edit contact (from contact item click)\r\n   */\r\n  private _handleEditContact(e: CustomEvent): void {\r\n    const contact = e.detail.contact as QuickDialEntry;\r\n    this._contactModalMode = \"edit\";\r\n    this._contactModalData = contact;\r\n    this._contactModalOpen = true;\r\n    this._showContactModal = true;\r\n  }\r\n\r\n  /**\r\n   * Handle add contact (from empty state action button)\r\n   */\r\n  private _handleAddContact(): void {\r\n    this._contactModalMode = \"add\";\r\n    this._contactModalData = undefined;\r\n    this._contactModalOpen = true;\r\n    this._showContactModal = true;\r\n  }\r\n\r\n  /**\r\n   * Render the card\r\n   */\r\n  render(): TemplateResult {\r\n    if (!this.hass || !this.config) {\r\n      return html`<div class=\"tsuryphone-error\">Loading...</div>`;\r\n    }\r\n\r\n    // Show error overlay if not connected\r\n    if (!this._isConnected || this._errorMessage) {\r\n      return html`\r\n        <ha-card>\r\n          <div class=\"tsuryphone-container\">\r\n            <div class=\"error-overlay\">\r\n              <ha-icon icon=\"mdi:alert-circle-outline\"></ha-icon>\r\n              <div class=\"error-title\">Connection Error</div>\r\n              <div class=\"error-message\">\r\n                ${this._errorMessage || \"Unable to connect to Home Assistant\"}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </ha-card>\r\n      `;\r\n    }\r\n\r\n    return html`\r\n      <ha-card>\r\n        <div class=\"tsuryphone-container ${this._isDarkMode ? 'dark-mode' : 'light-mode'}\">\r\n          ${this._showCallModal ? this._renderCallModal() : \"\"}\r\n          ${this._showContactModal ? this._renderContactModal() : \"\"}\r\n          ${this._showBlockedView\r\n            ? this._renderBlockedView()\r\n            : this._renderMainViews()}\r\n        </div>\r\n      </ha-card>\r\n    `;\r\n  }\r\n\r\n  /**\r\n   * Render main views (home, keypad, contacts)\r\n   */\r\n  private _renderMainViews(): TemplateResult {\r\n    return html`\r\n      <div class=\"views-container\">\r\n        <div class=\"view-content\">\r\n          ${this._activeView === \"home\" ? this._renderHomeView() : \"\"}\r\n          ${this._activeView === \"keypad\" ? this._renderKeypadView() : \"\"}\r\n          ${this._activeView === \"contacts\" ? this._renderContactsView() : \"\"}\r\n        </div>\r\n\r\n        <tsuryphone-navigation\r\n          .activeTab=${this._activeView}\r\n          .disabled=${this._showCallModal}\r\n          @tab-change=${this._handleTabChange}\r\n        ></tsuryphone-navigation>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  /**\r\n   * Render home view\r\n   */\r\n  private _renderHomeView(): TemplateResult {\r\n    // Convert call history to the format expected by home-view\r\n    const callHistory: CallHistoryEntryType[] = this._callHistoryCache.map((call: any) => ({\r\n      id: call.id || `${call.timestamp}-${call.phone_number}`,\r\n      contactName: call.contact_name || call.phone_number,\r\n      phoneNumber: call.phone_number,\r\n      timestamp: call.timestamp,\r\n      duration: call.duration || 0,\r\n      type: call.type || 'incoming',\r\n      isBlocked: call.is_blocked || false,\r\n    }));\r\n\r\n    return html`\r\n      <div class=\"view home-view fade-in\">\r\n        <tsuryphone-home-view\r\n          .callHistory=${callHistory}\r\n          .loading=${false}\r\n          @dial-contact=${this._handleDialContact}\r\n          @call-details=${this._handleCallDetails}\r\n        ></tsuryphone-home-view>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  /**\r\n   * Handle dial contact event from home view\r\n   */\r\n  private _handleDialContact(e: CustomEvent): void {\r\n    const { contact } = e.detail;\r\n    console.log('Dial contact:', contact);\r\n    // TODO: Open call modal or initiate call in Phase 6\r\n  }\r\n\r\n  /**\r\n   * Handle call details event from home view\r\n   */\r\n  private _handleCallDetails(e: CustomEvent): void {\r\n    const { call } = e.detail;\r\n    console.log('Show call details:', call);\r\n    // TODO: Open call details modal in Phase 8\r\n  }\r\n\r\n  /**\r\n   * Render keypad view\r\n   */\r\n  private _renderKeypadView(): TemplateResult {\r\n    return html`\r\n      <div class=\"view keypad-view fade-in\">\r\n        <tsuryphone-keypad-view\r\n          .hass=${this.hass}\r\n          .config=${this.config}\r\n        ></tsuryphone-keypad-view>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  /**\r\n   * Render contacts view\r\n   */\r\n  private _renderContactsView(): TemplateResult {\r\n    return html`\r\n      <div\r\n        class=\"view contacts-view fade-in\"\r\n        @edit-contact=${this._handleEditContact}\r\n        @action=${this._handleAddContact}\r\n      >\r\n        <tsuryphone-contacts-view\r\n          .hass=${this.hass}\r\n          .config=${this.config}\r\n        ></tsuryphone-contacts-view>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  /**\r\n   * Render call modal (placeholder)\r\n   */\r\n  private _renderCallModal(): TemplateResult {\r\n    return html`<div class=\"modal-placeholder\">Call Modal</div>`;\r\n  }\r\n\r\n  /**\r\n   * Render contact modal\r\n   */\r\n  private _renderContactModal(): TemplateResult {\r\n    return html`\r\n      <tsuryphone-contact-modal\r\n        .hass=${this.hass}\r\n        .open=${this._contactModalOpen}\r\n        .mode=${this._contactModalMode}\r\n        .contact=${this._contactModalData}\r\n        @close=${this._handleContactModalClose}\r\n        @contact-saved=${this._handleContactSaved}\r\n        @contact-deleted=${this._handleContactDeleted}\r\n        @error=${this._handleContactModalError}\r\n      ></tsuryphone-contact-modal>\r\n    `;\r\n  }\r\n\r\n  /**\r\n   * Render blocked view (placeholder)\r\n   */\r\n  private _renderBlockedView(): TemplateResult {\r\n    return html`<div class=\"modal-placeholder\">Blocked Numbers View</div>`;\r\n  }\r\n\r\n  /**\r\n   * Styles for the card\r\n   */\r\n  static get styles(): CSSResultGroup {\r\n    return [\r\n      haThemeVariables,\r\n      haButtonStyles,\r\n      haCardStyles,\r\n      commonStyles,\r\n      css`\r\n        :host {\r\n          display: block;\r\n        }\r\n\r\n        ha-card {\r\n          height: 100%;\r\n          display: flex;\r\n          flex-direction: column;\r\n        }\r\n\r\n        .tsuryphone-container {\r\n          display: flex;\r\n          flex-direction: column;\r\n          height: 650px;\r\n          background: var(--tsury-card-background-color);\r\n          color: var(--tsury-primary-text-color);\r\n          font-family: var(--tsury-font-family);\r\n          position: relative;\r\n          overflow: hidden;\r\n        }\r\n\r\n        .tsuryphone-error {\r\n          padding: var(--tsury-spacing-md);\r\n          text-align: center;\r\n          color: var(--tsury-error-color);\r\n        }\r\n\r\n        .error-overlay {\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          justify-content: center;\r\n          background: var(--tsury-card-background-color);\r\n          z-index: 100;\r\n          padding: var(--tsury-spacing-xl);\r\n        }\r\n\r\n        .error-overlay ha-icon {\r\n          --mdc-icon-size: 64px;\r\n          color: var(--tsury-error-color);\r\n          margin-bottom: var(--tsury-spacing-md);\r\n        }\r\n\r\n        .error-title {\r\n          font-size: var(--tsury-font-size-xl);\r\n          font-weight: var(--tsury-font-weight-medium);\r\n          color: var(--tsury-primary-text-color);\r\n          margin-bottom: var(--tsury-spacing-sm);\r\n        }\r\n\r\n        .error-message {\r\n          font-size: var(--tsury-font-size-md);\r\n          color: var(--tsury-secondary-text-color);\r\n          text-align: center;\r\n        }\r\n\r\n        .views-container {\r\n          display: flex;\r\n          flex-direction: column;\r\n          flex: 1;\r\n          overflow: hidden;\r\n        }\r\n\r\n        .view-content {\r\n          flex: 1;\r\n          overflow-y: auto;\r\n          overflow-x: hidden;\r\n          -webkit-overflow-scrolling: touch;\r\n        }\r\n\r\n        .view {\r\n          display: flex;\r\n          flex-direction: column;\r\n          min-height: 100%;\r\n          background: var(--tsury-primary-background-color);\r\n        }\r\n\r\n        .view-header {\r\n          padding: var(--tsury-spacing-md) var(--tsury-spacing-md) var(--tsury-spacing-sm);\r\n          background: var(--tsury-card-background-color);\r\n          border-bottom: 1px solid var(--tsury-divider-color);\r\n        }\r\n\r\n        .view-header h2 {\r\n          margin: 0;\r\n          font-size: var(--tsury-font-size-xl);\r\n          font-weight: var(--tsury-font-weight-medium);\r\n          color: var(--tsury-primary-text-color);\r\n        }\r\n\r\n        .view-body {\r\n          flex: 1;\r\n          padding: var(--tsury-spacing-md);\r\n        }\r\n\r\n        .placeholder-text {\r\n          color: var(--tsury-secondary-text-color);\r\n          text-align: center;\r\n          margin: var(--tsury-spacing-md) 0;\r\n        }\r\n\r\n        .view-placeholder,\r\n        .modal-placeholder {\r\n          flex: 1;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          padding: var(--tsury-spacing-lg);\r\n          background: var(--tsury-primary-background-color);\r\n          color: var(--tsury-secondary-text-color);\r\n          font-size: var(--tsury-font-size-lg);\r\n        }\r\n\r\n        .navigation-placeholder {\r\n          display: flex;\r\n          justify-content: space-around;\r\n          padding: var(--tsury-spacing-md);\r\n          background: var(--tsury-card-background-color);\r\n          border-top: 1px solid var(--tsury-divider-color);\r\n          gap: var(--tsury-spacing-sm);\r\n        }\r\n\r\n        .navigation-placeholder button {\r\n          flex: 1;\r\n          padding: var(--tsury-spacing-sm) var(--tsury-spacing-md);\r\n          background: var(--tsury-primary-color);\r\n          color: var(--text-primary-color);\r\n          border: none;\r\n          border-radius: var(--tsury-border-radius-md);\r\n          cursor: pointer;\r\n          font-size: var(--tsury-font-size-md);\r\n          font-weight: var(--tsury-font-weight-medium);\r\n          transition: all var(--tsury-transition-duration) var(--tsury-transition-timing);\r\n        }\r\n\r\n        .navigation-placeholder button:hover {\r\n          filter: brightness(1.1);\r\n        }\r\n\r\n        .navigation-placeholder button:active {\r\n          filter: brightness(0.9);\r\n        }\r\n\r\n        /* Dark mode adjustments */\r\n        .tsuryphone-container.dark-mode {\r\n          /* Dark mode specific overrides if needed */\r\n        }\r\n\r\n        .tsuryphone-container.light-mode {\r\n          /* Light mode specific overrides if needed */\r\n        }\r\n      `,\r\n    ];\r\n  }\r\n}\r\n"],"names":["t","e","s","o","r","n","i","S","c","h","a","l","p","d","u","f","y","css","LitElement","html","property","customElement","state"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7]}